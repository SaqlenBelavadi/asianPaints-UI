"use strict";(self.webpackChunkEVP=self.webpackChunkEVP||[]).push([[645],{1591:(mt,y,u)=>{u.r(y),u.d(y,{LandingPageConfigModule:()=>ct});var d=u(9808),A=u(1083),v=u(520),c=u(3075),m=u(8966),g=u(8561),e=u(5e3),T=u(2313),h=u(4383),C=u(7603),_=u(5384),Z=u(8504),f=u(7322);const q=["fileInput"];function L(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Please select any image file of format .jpg, .jpeg, .bmp, .png, .svg, .gif, .jfif, .pjpeg, pjp "),e.qZA())}function P(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",27)(1,"div",28)(2,"label",29),e._UZ(3,"img",30),e.TgZ(4,"div",31)(5,"img",32),e.NdJ("click",function(){const a=e.CHM(t).index;return e.oxw(2).clearImage(a)}),e.qZA()()()()()}if(2&o){const t=r.$implicit,n=r.index;let i;e.xp6(1),e.Q6J("formGroupName",n),e.xp6(2),e.Q6J("src",null==(i=t.get("url"))?null:i.value,e.LSH)}}function S(o,r){if(1&o&&(e.TgZ(0,"div",25),e.YNc(1,P,6,2,"div",26),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",null==t.photos?null:t.photos.controls)}}let N=(()=>{class o{constructor(t,n,i,a,s,l,p){this.dialogRef=t,this.data=n,this.fb=i,this.sanitizer=a,this.toastr=s,this.communicationService=l,this.apiService=p,this.limit=1,this.allowedFileExtensions=["jpg","svg","jpeg","png","gif","jfif","pjpeg","pjp"]}ngOnInit(){this.bannerPictureForm=this.initializeFromGroup()}initializeFromGroup(){return this.fb.group({image:this.fb.array([],[c.kI.required])})}get photos(){return this.bannerPictureForm.controls.image}createItem(t){return this.fb.group({file:[t.file],url:[t.url]})}onFileSelection(t){const n=t.target.files;if(n.length>0){for(var i=0;i<n.length;i++){const a=n[i];if(this.fileInputValidation(a)){const s=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(a));this.photos.push(this.createItem({file:a,url:s}))}n.length-1==i&&(this.fileInput.nativeElement.value="")}return!0}return!1}fileInputValidation(t){try{return this.photos.value.length>this.limit-1?(this.toastr.info("Max allowed files is 1"),this.fileInput.nativeElement.value="",!1):this.photos.value.find(i=>i.file.name?-1!==i.file.name.indexOf(t.name):-1!==i.file.imageName.indexOf(t.name))?(this.toastr.info("Duplicate file name"),this.fileInput.nativeElement.value="",!1):t.size>5242880?(this.toastr.info("Maximum allowed file size is 5mb"),!1):this.validateImageOrVideoExtensions(t)}catch(i){}return!0}validateImageOrVideoExtensions(t){try{var i=t.name;if(!(i.length>0))return!1;for(var a=!1,s=0;s<this.allowedFileExtensions.length;s++){var l=this.allowedFileExtensions[s];if(i.substr(i.lastIndexOf(".")+1).toLowerCase()==l.toLowerCase()){a=!0;break}}if(!a)return this.toastr.warning("Sorry, "+i+" is invalid, allowed extensions are: "+this.allowedFileExtensions.join(", ")),!1}catch(p){}return!0}clearImage(t){try{this.photos.removeAt(t)}catch(n){}}filesDropped(t){try{if(this.fileInputValidation(t.dataTransfer.files))for(let n=0;n<t.dataTransfer.files.length;n++){const i=t.dataTransfer.files[n],a=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(i));this.photos.push(this.createItem({file:i,url:a}))}}catch(n){}}onSave(){if(this.bannerPictureForm.valid){console.log(this.bannerPictureForm.value),console.log(this.photos.value.entries);const t=new FormData;for(const[n,i]of this.photos.value.entries())t.append("images",i.file);this.callSaveToApi(t).then(n=>{})}else this.toastr.info("Please fill all the required fields")}callSaveToApi(t){const n={headers:new v.WM({"Content-Type":"undefined"})};return new Promise((i,a)=>{if(t){let s="";this.communicationService.post(g.P.uploadBannerImagesUrl(),t,n,!0).subscribe({next:l=>{s=l.message,i(l)},error:l=>{this.toastr.error(l.error.message),a(l)},complete:()=>{this.dialogRef.close({status:!0,type:"add",message:s}),this.apiService.adminDataChange$.next(!0)}})}else i([])})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(m.so),e.Y36(m.WI),e.Y36(c.qu),e.Y36(T.H7),e.Y36(h._W),e.Y36(C.O),e.Y36(_.s))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-create-banner"]],viewQuery:function(t,n){if(1&t&&e.Gf(q,5),2&t){let i;e.iGM(i=e.CRH())&&(n.fileInput=i.first)}},decls:36,vars:3,consts:[[1,"closed__wrapper"],[1,""],[1,"chat__element"],[1,"heading"],[3,"formGroup"],[1,"upload"],[1,"flbx-stretch","align-items-start"],[1,"item-wrapper","one"],[1,"item"],[1,"item-inner"],[1,"item-content"],["appDrag","",1,"image-upload",3,"drop"],["for","file_upload",2,"cursor","pointer"],[1,"h-100"],[1,"dplay-tbl"],[1,"dplay-tbl-cell"],["src","assets/images/upload-icon.svg","alt","upload"],[1,"m-0","text-start"],["type","file","id","file_upload","multiple","","data-traget-resolution","image_resolution","value","","accept",".jpg,.jpeg,.bmp,.png,.svg,.gif,.jfif,.pjpeg,pjp",1,"image-input",3,"change"],["fileInput",""],[4,"ngIf"],["class","choose-img mt-3 d-flex",4,"ngIf"],[1,"notification__container"],[1,"btn","btn-red",3,"click"],["mat-dialog-close","",1,"btn","btn-grey"],[1,"choose-img","mt-3","d-flex"],["class","answers","formArrayName","image",4,"ngFor","ngForOf"],["formArrayName","image",1,"answers"],[1,"flbx-vac",3,"formGroupName"],[1,"answer"],[1,"preview_img",3,"src"],[1,"close"],["src","assets/images/close.svg",3,"click"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),e._uU(4,"Add Banner"),e.qZA(),e.TgZ(5,"form",4)(6,"div",5)(7,"div",6)(8,"h3"),e._uU(9,"Upload Picture"),e.qZA()(),e.TgZ(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11),e.NdJ("drop",function(a){return n.filesDropped(a)}),e.TgZ(15,"label",12)(16,"div",13)(17,"div",14)(18,"div",15),e._UZ(19,"img",16),e.TgZ(20,"div")(21,"h3",17),e._uU(22," Drag and drop file here "),e.qZA(),e.TgZ(23,"p",17),e._uU(24,"Or"),e.qZA(),e.TgZ(25,"h2",17),e._uU(26,"Browse file"),e.qZA()()()()(),e.TgZ(27,"input",18,19),e.NdJ("change",function(a){return n.onFileSelection(a)}),e.qZA(),e.YNc(29,L,2,0,"mat-error",20),e.qZA()()()()()(),e.YNc(30,S,2,1,"div",21),e.qZA()()()(),e.TgZ(31,"div",22)(32,"button",23),e.NdJ("click",function(){return n.onSave()}),e._uU(33,"Save"),e.qZA(),e.TgZ(34,"button",24),e._uU(35,"Cancel"),e.qZA()()()),2&t){let i;e.xp6(5),e.Q6J("formGroup",n.bannerPictureForm),e.xp6(24),e.Q6J("ngIf",null==(i=n.bannerPictureForm.get("image"))||null==i.errors?null:i.errors.required),e.xp6(1),e.Q6J("ngIf",n.photos.value.length)}},directives:[c._Y,c.JL,c.sg,Z.w,d.O5,f.TO,d.sg,c.CE,c.x0,m.ZT],styles:[".close[_ngcontent-%COMP%]{position:absolute;top:0;right:0}.answer[_ngcontent-%COMP%]{position:relative;width:100%}.answer[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{max-width:100%;border-radius:5px;width:100%;object-fit:cover;height:100px}.preview_img[_ngcontent-%COMP%]{height:100px;object-fit:cover}.answers[_ngcontent-%COMP%]{width:18%;margin-right:10px}@media screen and (max-width: 767px){.answers[_ngcontent-%COMP%]{width:100%!important}}.answers[_ngcontent-%COMP%]   .flbx-vac[_ngcontent-%COMP%]{width:100%}.upload[_ngcontent-%COMP%]{padding:20px 0}form.ng-pristine[_ngcontent-%COMP%]{height:300px;overflow-y:scroll}"]}),o})();var x=u(6842);function k(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7),e._UZ(4,"img",8),e.qZA(),e.TgZ(5,"h2"),e._uU(6),e.qZA()(),e.TgZ(7,"div",9)(8,"a",10),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw().deleteBanner(null==a?null:a.imageName)}),e.qZA()()()()}if(2&o){const t=r.$implicit;e.xp6(4),e.Q6J("src",null==t?null:t.bannerPictureLocation,e.LSH),e.xp6(2),e.Oqu(null==t?null:t.imageName)}}let I=(()=>{class o{constructor(t,n,i){this.apiService=t,this.dialog=n,this.toastr=i}ngOnInit(){this.apiService.adminSideNavChanged$.subscribe(t=>{(null==t?void 0:t.status)&&"bannersImage"==(null==t?void 0:t.type)&&(this.bannerData=t.bannerImages)})}createBanner(){this.dialog.open(N,{width:"670px",data:{}}).afterClosed().subscribe(n=>{(null==n?void 0:n.status)&&this.toastr.success(null==n?void 0:n.message)})}removeImagesFromApi(t){this.dialog.open(x.p,{width:"470px",data:{heading:"Delete Image?",message:"Are you sure you want to delete the image?"}}).afterClosed().subscribe(i=>{if(i){const a=`${g.P.deleteBannerImages()}?imageName=${t.toString()}`;this.apiService.delete({},a).subscribe(()=>{this.apiService.adminDataChange$.next(!0),this.toastr.success("Image deleted Successfully")})}})}deleteBanner(t){this.removeImagesFromApi(t)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(_.s),e.Y36(m.uw),e.Y36(h._W))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-banner"]],inputs:{bannerData:"bannerData"},decls:7,vars:1,consts:[[1,"header-Landing_config"],[1,"btn-create",3,"click"],[1,"content-wrap_cms"],["class","cms_content_box",4,"ngFor","ngForOf"],[1,"cms_content_box"],[1,"first_sec"],[1,"title_sec"],[1,"img-box"],[3,"src"],[1,"btn_sec"],[1,"delete",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"Manage Banners"),e.qZA(),e.TgZ(3,"a",1),e.NdJ("click",function(){return n.createBanner()}),e._uU(4,"+ Create"),e.qZA()(),e.TgZ(5,"div",2),e.YNc(6,k,9,2,"div",3),e.qZA()),2&t&&(e.xp6(6),e.Q6J("ngForOf",n.bannerData))},directives:[d.sg],styles:[""]}),o})();var F=u(9202),O=u(4617),w=u(8833);const M=["fileInput"];function J(o,r){if(1&o&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);let n;e.xp6(1),e.hij(" ",null==(n=t.leadersForm.get("name"))||null==n.errors||null==n.errors.trimError?null:n.errors.trimError.value," ")}}function Y(o,r){1&o&&(e.ynx(0),e._uU(1," Leader name required "),e.BQk())}function E(o,r){if(1&o&&e.YNc(0,Y,2,0,"ng-container",7),2&o){const t=e.oxw(2);let n;e.Q6J("ngIf",null==(n=t.leadersForm.get("name"))?null:n.invalid)}}function D(o,r){if(1&o&&(e.TgZ(0,"mat-error"),e.YNc(1,J,2,1,"div",29),e.YNc(2,E,1,1,"ng-template",null,30,e.W1O),e.qZA()),2&o){const t=e.MAs(3),n=e.oxw();let i;e.xp6(1),e.Q6J("ngIf",null==(i=n.leadersForm.get("name"))?null:i.hasError("trimError"))("ngIfElse",t)}}function V(o,r){if(1&o&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);let n;e.xp6(1),e.hij(" ",null==(n=t.leadersForm.get("designation"))||null==n.errors||null==n.errors.trimError?null:n.errors.trimError.value," ")}}function Q(o,r){1&o&&(e.ynx(0),e._uU(1," Leader designation required "),e.BQk())}function j(o,r){if(1&o&&e.YNc(0,Q,2,0,"ng-container",7),2&o){const t=e.oxw(2);let n;e.Q6J("ngIf",null==(n=t.leadersForm.get("designation"))?null:n.invalid)}}function R(o,r){if(1&o&&(e.TgZ(0,"mat-error"),e.YNc(1,V,2,1,"div",29),e.YNc(2,j,1,1,"ng-template",null,30,e.W1O),e.qZA()),2&o){const t=e.MAs(3),n=e.oxw();let i;e.xp6(1),e.Q6J("ngIf",null==(i=n.leadersForm.get("designation"))?null:i.hasError("trimError"))("ngIfElse",t)}}function B(o,r){if(1&o&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);let n;e.xp6(1),e.hij(" ",null==(n=t.leadersForm.get("comments"))||null==n.errors||null==n.errors.trimError?null:n.errors.trimError.value," ")}}function $(o,r){1&o&&(e.ynx(0),e._uU(1," Description required "),e.BQk())}function z(o,r){if(1&o&&e.YNc(0,$,2,0,"ng-container",7),2&o){const t=e.oxw(2);let n;e.Q6J("ngIf",null==(n=t.leadersForm.get("comments"))?null:n.invalid)}}function G(o,r){if(1&o&&(e.TgZ(0,"mat-error"),e.YNc(1,B,2,1,"div",29),e.YNc(2,z,1,1,"ng-template",null,30,e.W1O),e.qZA()),2&o){const t=e.MAs(3),n=e.oxw();let i;e.xp6(1),e.Q6J("ngIf",null==(i=n.leadersForm.get("comments"))?null:i.hasError("trimError"))("ngIfElse",t)}}function H(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Please select any image file of format .jpg, .jpeg, .bmp, .png, .svg, .gif, .jfif, .pjpeg, pjp "),e.qZA())}function W(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",33)(1,"div",34)(2,"label",35),e._UZ(3,"img",36),e.TgZ(4,"div",37)(5,"img",38),e.NdJ("click",function(){const a=e.CHM(t).index;return e.oxw(2).clearImage(a)}),e.qZA()()()()()}if(2&o){const t=r.$implicit,n=r.index;let i;e.xp6(1),e.Q6J("formGroupName",n),e.xp6(2),e.Q6J("src",null==(i=t.get("url"))?null:i.value,e.LSH)}}function X(o,r){if(1&o&&(e.TgZ(0,"div",31),e.YNc(1,W,6,2,"div",32),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",null==t.photosOrVideos?null:t.photosOrVideos.controls)}}let K=(()=>{class o{constructor(t,n,i,a,s,l,p,b){this.dialogRef=t,this.data=n,this.fb=i,this.sanitizer=a,this.toastr=s,this.communicationService=l,this.storageService=p,this.apiService=b,this.errorMessage="",this.limit=1,this.allowedFileExtensions=["jpg","svg","jpeg","png","gif","jfif","pjpeg","pjp"]}ngOnInit(){this.leadersForm=this.initializeFromGroup()}get photosOrVideos(){return this.leadersForm.controls.image}initializeFromGroup(){return this.fb.group({name:["",[c.kI.required]],designation:["",[c.kI.required]],comments:["",[c.kI.required]],image:this.fb.array([],[c.kI.required])})}createItem(t){return this.fb.group({file:[t.file],url:[t.url]})}onFileSelection(t){const n=t.target.files;if(n.length>0){for(var i=0;i<n.length;i++){const a=n[i];if(this.fileInputValidation(a)){const s=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(a));this.photosOrVideos.push(this.createItem({file:a,url:s}))}n.length-1==i&&(this.fileInput.nativeElement.value="")}return!0}return!1}fileInputValidation(t){try{return this.photosOrVideos.value.length>this.limit-1?(this.toastr.info("Max allowed files is 1"),this.fileInput.nativeElement.value="",!1):this.photosOrVideos.value.find(i=>i.file.name?-1!==i.file.name.indexOf(t.name):-1!==i.file.imageName.indexOf(t.name))?(this.toastr.info("Duplicate file name"),this.fileInput.nativeElement.value="",!1):t.size>5242880?(this.toastr.info("Maximum allowed file size is 5mb"),!1):this.validateImageOrVideoExtensions(t)}catch(i){}return!0}validateImageOrVideoExtensions(t){try{var i=t.name;if(!(i.length>0))return!1;for(var a=!1,s=0;s<this.allowedFileExtensions.length;s++){var l=this.allowedFileExtensions[s];if(i.substr(i.lastIndexOf(".")+1).toLowerCase()==l.toLowerCase()){a=!0;break}}if(!a)return this.toastr.warning("Sorry, "+i+" is invalid, allowed extensions are: "+this.allowedFileExtensions.join(", ")),!1}catch(p){}return!0}clearImage(t){try{this.photosOrVideos.removeAt(t)}catch(n){}}filesDropped(t){try{if(this.fileInputValidation(t.dataTransfer.files))for(let n=0;n<t.dataTransfer.files.length;n++){const i=t.dataTransfer.files[n],a=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(i));this.photosOrVideos.push(this.createItem({file:i,url:a}))}}catch(n){}}onSave(){if(this.leadersForm.valid){console.log("Form is valid. Proceed with upload."),console.log(this.leadersForm.value);var t=new FormData;for(const[n,i]of this.photosOrVideos.value.entries())t.append("images",i.file);t.append("leaderName",this.leadersForm.controls.name.value),t.append("designation",this.leadersForm.controls.designation.value),t.append("description",this.leadersForm.controls.comments.value),this.callSaveToApi(t).then(n=>{})}else this.toastr.info("Please fill all the required fields")}callSaveToApi(t){const n={headers:new v.WM({"Content-Type":"undefined"})};return new Promise((i,a)=>{if(t){let s="";this.communicationService.post(g.P.uploadLeadersTalksUrl(),t,n,!0).subscribe({next:l=>{s=l.message,i(l)},error:l=>{this.toastr.error(l.error.message),a(l)},complete:()=>{this.dialogRef.close({status:!0,type:"add",message:s}),this.apiService.adminDataChange$.next(!0)}})}else i([])})}getErrorMessage(t){return this.leadersForm.get(t).hasError("required")?"This field is required":""}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(m.so),e.Y36(m.WI),e.Y36(c.qu),e.Y36(T.H7),e.Y36(h._W),e.Y36(C.O),e.Y36(O.C),e.Y36(_.s))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-leaders-talk-create"]],viewQuery:function(t,n){if(1&t&&e.Gf(M,5),2&t){let i;e.iGM(i=e.CRH())&&(n.fileInput=i.first)}},decls:52,vars:6,consts:[[1,"closed__wrapper"],[1,""],[1,"chat__element"],[1,"heading"],[3,"formGroup"],["appearance","outline"],["matInput","","placeholder","Name of Leader","formControlName","name"],[4,"ngIf"],["matInput","","placeholder","Designation","formControlName","designation"],["matInput","","placeholder","Leader Talk","formControlName","comments"],[1,"upload"],[1,"flbx-stretch","align-items-start"],[1,"item-wrapper","one"],[1,"item"],[1,"item-inner"],[1,"item-content"],["appDrag","",1,"image-upload",3,"drop"],["for","file_upload",2,"cursor","pointer"],[1,"h-100"],[1,"dplay-tbl"],[1,"dplay-tbl-cell"],["src","assets/images/upload-icon.svg","alt","upload"],[1,"m-0","text-start"],["type","file","id","file_upload","multiple","","data-traget-resolution","image_resolution","value","","accept",".jpg,.jpeg,.bmp,.png,.svg,.gif,.jfif,.pjpeg,pjp",1,"image-input",3,"change"],["fileInput",""],["class","choose-img mt-3 d-flex",4,"ngIf"],[1,"notification__container"],[1,"btn","btn-red",3,"click"],["mat-dialog-close","",1,"btn","btn-grey"],[4,"ngIf","ngIfElse"],["requiredError",""],[1,"choose-img","mt-3","d-flex"],["class","answers","formArrayName","image",4,"ngFor","ngForOf"],["formArrayName","image",1,"answers"],[1,"flbx-vac",3,"formGroupName"],[1,"answer"],[1,"preview_img",3,"src"],[1,"close"],["src","assets/images/close.svg",3,"click"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),e._uU(4,"Add Leaders Talk"),e.qZA(),e.TgZ(5,"form",4)(6,"mat-form-field",5)(7,"mat-label"),e._uU(8,"Name of Leader"),e.qZA(),e._UZ(9,"input",6),e.YNc(10,D,4,2,"mat-error",7),e.qZA(),e.TgZ(11,"mat-form-field",5)(12,"mat-label"),e._uU(13,"Designation"),e.qZA(),e._UZ(14,"input",8),e.YNc(15,R,4,2,"mat-error",7),e.qZA(),e.TgZ(16,"mat-form-field",5)(17,"mat-label"),e._uU(18,"Leader Talk"),e.qZA(),e.TgZ(19,"textarea",9),e._uU(20,"            "),e.qZA(),e.YNc(21,G,4,2,"mat-error",7),e.qZA(),e.TgZ(22,"div",10)(23,"div",11)(24,"h3"),e._uU(25,"Upload Picture"),e.qZA()(),e.TgZ(26,"div",12)(27,"div",13)(28,"div",14)(29,"div",15)(30,"div",16),e.NdJ("drop",function(a){return n.filesDropped(a)}),e.TgZ(31,"label",17)(32,"div",18)(33,"div",19)(34,"div",20),e._UZ(35,"img",21),e.TgZ(36,"div")(37,"h3",22),e._uU(38," Drag and drop file here "),e.qZA(),e.TgZ(39,"p",22),e._uU(40,"Or"),e.qZA(),e.TgZ(41,"h2",22),e._uU(42,"Browse file"),e.qZA()()()()(),e.TgZ(43,"input",23,24),e.NdJ("change",function(a){return n.onFileSelection(a)}),e.qZA(),e.YNc(45,H,2,0,"mat-error",7),e.qZA()()()()()(),e.YNc(46,X,2,1,"div",25),e.qZA()()()(),e.TgZ(47,"div",26)(48,"button",27),e.NdJ("click",function(){return n.onSave()}),e._uU(49,"Save"),e.qZA(),e.TgZ(50,"button",28),e._uU(51,"Cancel"),e.qZA()()()),2&t){let i,a,s,l;e.xp6(5),e.Q6J("formGroup",n.leadersForm),e.xp6(5),e.Q6J("ngIf",(null==(i=n.leadersForm.get("name"))?null:i.invalid)&&((null==(i=n.leadersForm.get("name"))?null:i.dirty)||(null==(i=n.leadersForm.get("name"))?null:i.touched))),e.xp6(5),e.Q6J("ngIf",(null==(a=n.leadersForm.get("designation"))?null:a.invalid)&&((null==(a=n.leadersForm.get("designation"))?null:a.dirty)||(null==(a=n.leadersForm.get("designation"))?null:a.touched))),e.xp6(6),e.Q6J("ngIf",(null==(s=n.leadersForm.get("comments"))?null:s.invalid)&&((null==(s=n.leadersForm.get("comments"))?null:s.dirty)||(null==(s=n.leadersForm.get("comments"))?null:s.touched))),e.xp6(24),e.Q6J("ngIf",null==(l=n.leadersForm.get("image"))||null==l.errors?null:l.errors.required),e.xp6(1),e.Q6J("ngIf",n.photosOrVideos.value.length)}},directives:[c._Y,c.JL,c.sg,f.KE,f.hX,w.Nt,c.Fj,c.JJ,c.u,d.O5,f.TO,Z.w,d.sg,c.CE,c.x0,m.ZT],styles:[".close[_ngcontent-%COMP%]{position:absolute;top:0;right:0}.answer[_ngcontent-%COMP%]{position:relative;width:100%}.answer[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{max-width:100%;border-radius:5px;width:100%;object-fit:cover;height:100px}.preview_img[_ngcontent-%COMP%]{height:100px;object-fit:cover}.answers[_ngcontent-%COMP%]{width:18%;margin-right:10px}@media screen and (max-width: 767px){.answers[_ngcontent-%COMP%]{width:100%!important}}.answers[_ngcontent-%COMP%]   .flbx-vac[_ngcontent-%COMP%]{width:100%}.upload[_ngcontent-%COMP%]{padding:20px 0}form.ng-pristine[_ngcontent-%COMP%]{height:300px;overflow-y:scroll}"]}),o})();function ee(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7),e._UZ(4,"img",8),e.qZA(),e.TgZ(5,"h2"),e._uU(6),e.TgZ(7,"span"),e._uU(8),e.qZA()()(),e.TgZ(9,"div",9)(10,"a",10),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw().deleteLeadersData(null==a?null:a.imageName)}),e.qZA()()(),e.TgZ(11,"div",11)(12,"p"),e._uU(13),e.qZA()()()}if(2&o){const t=r.$implicit;e.xp6(4),e.Q6J("src",null==t?null:t.leaderPictureLocation,e.LSH),e.xp6(2),e.hij(" ",t.leaderName," "),e.xp6(2),e.Oqu(null==t?null:t.designation),e.xp6(5),e.hij(" ",null==t?null:t.description," ")}}let U=(()=>{class o{constructor(t,n,i){this.dialog=t,this.apiService=n,this.toastr=i}ngOnInit(){this.apiService.adminSideNavChanged$.subscribe(t=>{(null==t?void 0:t.status)&&"leaders-talks"==(null==t?void 0:t.type)&&(this.leadersData=t.leadersData)})}createLeadersTalk(){this.dialog.open(K,{width:"670px",data:{}}).afterClosed().subscribe(n=>{(null==n?void 0:n.status)&&this.toastr.success(null==n?void 0:n.message)})}removeDataFromApi(t){this.dialog.open(x.p,{width:"470px",data:{heading:"Delete Leader?",message:"Are you sure you want to delete the Leader?"}}).afterClosed().subscribe(i=>{if(i){const a=`${g.P.deleteLeadersTalkData()}?imageName=${t.toString()}`;this.apiService.delete({},a).subscribe(()=>{this.apiService.adminDataChange$.next(!0),this.toastr.success("Leader deleted Successfully")})}})}deleteLeadersData(t){this.removeDataFromApi(t)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(m.uw),e.Y36(_.s),e.Y36(h._W))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-leaders-talk"]],inputs:{leadersData:"leadersData"},decls:7,vars:1,consts:[[1,"header-Landing_config"],[1,"btn-create",3,"click"],[1,"content-wrap_cms"],["class","cms_content_box",4,"ngFor","ngForOf"],[1,"cms_content_box"],[1,"first_sec"],[1,"title_sec"],[1,"img-box"],[3,"src"],[1,"btn_sec"],[1,"delete",3,"click"],[1,"second_sec"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"Manage Leader Talks"),e.qZA(),e.TgZ(3,"a",1),e.NdJ("click",function(){return n.createLeadersTalk()}),e._uU(4,"+ Create"),e.qZA()(),e.TgZ(5,"div",2),e.YNc(6,ee,14,4,"div",3),e.qZA()),2&t&&(e.xp6(6),e.Q6J("ngForOf",n.leadersData))},directives:[d.sg],styles:[""]}),o})();var te=u(7732);let ne=(()=>{class o{constructor(t,n,i,a,s){this.dialogRef=t,this.communicationService=n,this.toastr=i,this.apiService=a,this.fb=s}ngOnInit(){}onSave(){if(this.validateURL(this.url)){const t=new FormData;t.append("videoURL",this.url),t.append("videoName","Asian Paints"),this.callSaveToApi(t).then(n=>{})}else this.toastr.error("Please Enter Embed Url Link only")}validateURL(t){return!!/^(https?:\/\/)?(www\.)?(youtube\.com\/(embed\/|v\/|watch\?v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/.test(t)}callSaveToApi(t){const n={headers:new v.WM({"Content-Type":"undefined"})};return new Promise((i,a)=>{if(t){let s="";this.communicationService.post(g.P.uploadVideo(),t,n,!0).subscribe({next:l=>{s=l.message,i(l)},error:l=>{this.toastr.error(l.error.message),a(l)},complete:()=>{this.dialogRef.close({status:!0,type:"add",message:s}),this.apiService.adminDataChange$.next(!0)}})}else i([])})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(m.so),e.Y36(C.O),e.Y36(h._W),e.Y36(_.s),e.Y36(c.qu))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-yt-videos-create"]],decls:14,vars:1,consts:[[1,"closed__wrapper"],[1,""],[1,"chat__element"],[1,"heading"],["appearance","outline"],["matInput","","placeholder","Embed Video Link",3,"ngModel","ngModelChange"],[1,"notification__container"],[1,"btn","btn-red",3,"click"],["mat-dialog-close","",1,"btn","btn-grey"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),e._uU(4,"Add Youtube Video Embed Url"),e.qZA(),e.TgZ(5,"mat-form-field",4)(6,"mat-label"),e._uU(7,"Video URL"),e.qZA(),e.TgZ(8,"input",5),e.NdJ("ngModelChange",function(a){return n.url=a}),e.qZA()()()(),e.TgZ(9,"div",6)(10,"button",7),e.NdJ("click",function(){return n.onSave()}),e._uU(11,"Save"),e.qZA(),e.TgZ(12,"button",8),e._uU(13,"Cancel"),e.qZA()()()),2&t&&(e.xp6(8),e.Q6J("ngModel",n.url))},directives:[f.KE,f.hX,w.Nt,c.Fj,c.JJ,c.On,m.ZT],styles:[".close[_ngcontent-%COMP%]{position:absolute;top:0;right:0}.answer[_ngcontent-%COMP%]{position:relative;width:100%}.answer[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{max-width:100%;border-radius:5px;width:100%;object-fit:cover;height:100px}.preview_img[_ngcontent-%COMP%]{height:100px;object-fit:cover}.answers[_ngcontent-%COMP%]{width:18%;margin-right:10px}@media screen and (max-width: 767px){.answers[_ngcontent-%COMP%]{width:100%!important}}.answers[_ngcontent-%COMP%]   .flbx-vac[_ngcontent-%COMP%]{width:100%}.upload[_ngcontent-%COMP%]{padding:20px 0}form.ng-pristine[_ngcontent-%COMP%]{height:300px;overflow-y:scroll}"]}),o})();function ie(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7),e._UZ(4,"img",8),e.qZA(),e.TgZ(5,"a",9),e._uU(6),e.qZA()(),e.TgZ(7,"div",10)(8,"a",11),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw().deleteVideo(null==a?null:a.videoURL)}),e.qZA()()()()}if(2&o){const t=r.$implicit;e.xp6(4),e.Q6J("src",null==t?null:t.videoImage,e.LSH),e.xp6(1),e.s9C("href",null==t?null:t.videoURL,e.LSH),e.xp6(1),e.Oqu(null==t?null:t.videoURL)}}let oe=(()=>{class o{constructor(t,n,i){this.apiService=t,this.dialog=n,this.toastr=i}ngOnInit(){this.apiService.adminSideNavChanged$.subscribe(t=>{(null==t?void 0:t.status)&&"youtube-video"==(null==t?void 0:t.type)&&(this.ytData=t.video)})}createVideo(){this.dialog.open(ne,{width:"670px",data:{}}).afterClosed().subscribe(n=>{(null==n?void 0:n.status)&&this.toastr.success(null==n?void 0:n.message)})}removeVideoFromApi(t){this.dialog.open(x.p,{width:"470px",data:{heading:"Delete Video?",message:"Are you sure you want to delete the Video?"}}).afterClosed().subscribe(i=>{if(i){const a=`${g.P.deleteVideo()}?videoURL=${t.toString()}`;this.apiService.delete({},a).subscribe(()=>{this.apiService.adminDataChange$.next(!0),this.toastr.success("Video deleted Successfully")})}})}deleteVideo(t){this.removeVideoFromApi(t)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(_.s),e.Y36(m.uw),e.Y36(h._W))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-youtube-videos"]],inputs:{ytData:"ytData"},decls:7,vars:1,consts:[[1,"header-Landing_config"],[1,"btn-create",3,"click"],[1,"content-wrap_cms"],["class","cms_content_box",4,"ngFor","ngForOf"],[1,"cms_content_box"],[1,"first_sec"],[1,"title_sec"],[1,"img-box"],[3,"src"],["target","_blank",3,"href"],[1,"btn_sec"],[1,"delete",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"Manage Videos"),e.qZA(),e.TgZ(3,"a",1),e.NdJ("click",function(){return n.createVideo()}),e._uU(4,"+ Create"),e.qZA()(),e.TgZ(5,"div",2),e.YNc(6,ie,9,3,"div",3),e.qZA()),2&t&&(e.xp6(6),e.Q6J("ngForOf",n.ytData))},directives:[d.sg],styles:[""]}),o})();const ae=["fileInput"],re=["voiceInput"];function se(o,r){if(1&o&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);let n;e.xp6(1),e.hij(" ",null==(n=t.testimonialForm.get("name"))||null==n.errors||null==n.errors.trimError?null:n.errors.trimError.value," ")}}function le(o,r){1&o&&(e.ynx(0),e._uU(1," Testimonial name required "),e.BQk())}function ce(o,r){if(1&o&&e.YNc(0,le,2,0,"ng-container",7),2&o){const t=e.oxw(2);let n;e.Q6J("ngIf",null==(n=t.testimonialForm.get("name"))?null:n.invalid)}}function me(o,r){if(1&o&&(e.TgZ(0,"mat-error"),e.YNc(1,se,2,1,"div",32),e.YNc(2,ce,1,1,"ng-template",null,33,e.W1O),e.qZA()),2&o){const t=e.MAs(3),n=e.oxw();let i;e.xp6(1),e.Q6J("ngIf",null==(i=n.testimonialForm.get("name"))?null:i.hasError("trimError"))("ngIfElse",t)}}function de(o,r){if(1&o&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);let n;e.xp6(1),e.hij(" ",null==(n=t.testimonialForm.get("designation"))||null==n.errors||null==n.errors.trimError?null:n.errors.trimError.value," ")}}function pe(o,r){1&o&&(e.ynx(0),e._uU(1," Designation and Location required "),e.BQk())}function ue(o,r){if(1&o&&e.YNc(0,pe,2,0,"ng-container",7),2&o){const t=e.oxw(2);let n;e.Q6J("ngIf",null==(n=t.testimonialForm.get("designation"))?null:n.invalid)}}function ge(o,r){if(1&o&&(e.TgZ(0,"mat-error"),e.YNc(1,de,2,1,"div",32),e.YNc(2,ue,1,1,"ng-template",null,33,e.W1O),e.qZA()),2&o){const t=e.MAs(3),n=e.oxw();let i;e.xp6(1),e.Q6J("ngIf",null==(i=n.testimonialForm.get("designation"))?null:i.hasError("trimError"))("ngIfElse",t)}}function _e(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Please select any image file of format .jpg, .jpeg, .bmp, .png, .svg, .gif, .jfif, .pjpeg, pjp "),e.qZA())}function fe(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",36)(1,"div",37)(2,"label",38),e._UZ(3,"img",39),e.TgZ(4,"div",40)(5,"img",41),e.NdJ("click",function(){const a=e.CHM(t).index;return e.oxw(2).clearImage(a,"image")}),e.qZA()()()()()}if(2&o){const t=r.$implicit,n=r.index;let i;e.xp6(1),e.Q6J("formGroupName",n),e.xp6(2),e.Q6J("src",null==(i=t.get("url"))?null:i.value,e.LSH)}}function he(o,r){if(1&o&&(e.TgZ(0,"div",34),e.YNc(1,fe,6,2,"div",35),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",null==t.photosOrVideos?null:t.photosOrVideos.controls)}}function ve(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Please select any audio file of format .mp3 "),e.qZA())}function Ce(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",43)(1,"div",37)(2,"label",38),e._UZ(3,"audio",44),e.TgZ(4,"div",40)(5,"img",41),e.NdJ("click",function(){const a=e.CHM(t).index;return e.oxw(2).clearImage(a,"audio")}),e.qZA()()()()()}if(2&o){const t=r.$implicit,n=r.index;let i;e.xp6(1),e.Q6J("formGroupName",n),e.xp6(2),e.Q6J("src",null==(i=t.get("url"))?null:i.value,e.LSH)}}function xe(o,r){if(1&o&&(e.TgZ(0,"div",34),e.YNc(1,Ce,6,2,"div",42),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",null==t.audioFiles?null:t.audioFiles.controls)}}let Te=(()=>{class o{constructor(t,n,i,a,s,l,p,b){this.dialogRef=t,this.data=n,this.fb=i,this.sanitizer=a,this.toastr=s,this.communicationService=l,this.storageService=p,this.apiService=b,this.limit=1,this.allowedFileExtensions=["jpg","svg","jpeg","png","gif","jfif","pjpeg","pjp","mp3","mp4"]}ngOnInit(){this.testimonialForm=this.initializeFromGroup()}get photosOrVideos(){return this.testimonialForm.controls.image}initializeFromGroup(){return this.fb.group({name:["",[c.kI.required]],designation:["",[c.kI.required]],comments:["",[c.kI.required]],image:this.fb.array([],[c.kI.required]),audio:this.fb.array([],[c.kI.required])})}createItem(t){return this.fb.group({file:[t.file],url:[t.url],format:[t.format]})}get audioFiles(){return this.testimonialForm.get("audio")}createAudioItem(t){return this.fb.group({file:[t.file],url:[t.url],format:[t.format]})}onFileSelection(t,n){console.log("type",n);const i=t.target.files;if(i.length>0){let s="";for(var a=0;a<i.length;a++){const l=i[a];if(this.fileInputValidation(l,n))if(l.type.indexOf("image")>-1?s="image":l.type.indexOf("audio")>-1&&(s="audio"),console.log("format",s),"image"==n){const p=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(l));this.photosOrVideos.push(this.createItem({file:l,url:p})),i.length-1==a&&(this.fileInput.nativeElement.value="")}else if("audio"==n){const p=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(l));this.audioFiles.push(this.createItem({file:l,url:p})),i.length-1==a&&(this.voiceInput.nativeElement.value="")}}return!0}return!1}fileInputValidation(t,n){try{if("image"==n){if(this.photosOrVideos.value.length>this.limit-1)return this.toastr.info("Max allowed files is 1"),this.fileInput.nativeElement.value="",!1}else if("audio"==n&&this.audioFiles.value.length>this.limit-1)return this.toastr.info("Max allowed files is 1"),this.voiceInput.nativeElement.value="",!1;return t.size>5242880?(this.toastr.info("Maximum allowed file size is 5mb"),!1):this.validateImageOrVideoExtensions(t)}catch(a){}return!0}validateImageOrVideoExtensions(t){try{var i=t.name;if(!(i.length>0))return!1;for(var a=!1,s=0;s<this.allowedFileExtensions.length;s++){var l=this.allowedFileExtensions[s];if(i.substr(i.lastIndexOf(".")+1).toLowerCase()==l.toLowerCase()){a=!0;break}}if(!a)return this.toastr.warning("Sorry, "+i+" is invalid, allowed extensions are: "+this.allowedFileExtensions.join(", ")),!1}catch(p){}return!0}clearImage(t,n){try{"image"==n?this.photosOrVideos.removeAt(t):"audio"==n&&this.audioFiles.removeAt(t)}catch(i){}}filesDropped(t,n){try{let i="";if(this.fileInputValidation(t.dataTransfer.files,n))for(let a=0;a<t.dataTransfer.files.length;a++){const s=t.dataTransfer.files[a];if(s.type.indexOf("image")>-1?i="image":s.type.indexOf("video")>-1&&(i="video"),"image"==n){const l=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(s));this.photosOrVideos.push(this.createItem({file:s,url:l})),t.dataTransfer.files.length-1==a&&(this.fileInput.nativeElement.value="")}else if("audio"==n){const l=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(s));this.audioFiles.push(this.createItem({file:s,url:l})),t.dataTransfer.files.length-1==a&&(this.voiceInput.nativeElement.value="")}}}catch(i){}}onSave(){if(this.testimonialForm.valid){var t=new FormData;for(const[n,i]of this.photosOrVideos.value.entries())t.append("imageAndAudio",i.file);for(const[n,i]of this.audioFiles.value.entries())t.append("imageAndAudio",i.file);t.append("speaksType",this.testimonialForm.controls.comments.value),t.append("personName",this.testimonialForm.controls.name.value),t.append("designationOrInfo",this.testimonialForm.controls.designation.value),this.callSaveToApi(t).then(n=>{})}else this.toastr.info("Please fill all the required fields")}callSaveToApi(t){const n={headers:new v.WM({"Content-Type":"undefined"})};return new Promise((i,a)=>{let s="";t?this.communicationService.post(g.P.uploadVoiceOfChange(),t,n,!0).subscribe({next:l=>{s=l.message,i(l)},error:l=>{this.toastr.error(l.error.message),a(l)},complete:()=>{this.dialogRef.close({status:!0,type:"add",message:s}),this.apiService.adminDataChange$.next(!0)}}):i([])})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(m.so),e.Y36(m.WI),e.Y36(c.qu),e.Y36(T.H7),e.Y36(h._W),e.Y36(C.O),e.Y36(O.C),e.Y36(_.s))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-create-voice-of-change"]],viewQuery:function(t,n){if(1&t&&(e.Gf(ae,5),e.Gf(re,5)),2&t){let i;e.iGM(i=e.CRH())&&(n.fileInput=i.first),e.iGM(i=e.CRH())&&(n.voiceInput=i.first)}},decls:79,vars:8,consts:[[1,"closed__wrapper"],[1,""],[1,"chat__element"],[1,"heading"],[3,"formGroup"],["appearance","outline"],["matInput","","placeholder","Name of Person","formControlName","name"],[4,"ngIf"],["matInput","","placeholder","Designation and Location","formControlName","designation"],["matInput","","placeholder","Speaks Type","formControlName","comments"],[1,"upload"],[1,"flbx-stretch","align-items-start"],[1,"item-wrapper","one"],[1,"item"],[1,"item-inner"],[1,"item-content"],["appDrag","",1,"image-upload",3,"drop"],["for","file_upload",2,"cursor","pointer"],[1,"h-100"],[1,"dplay-tbl"],[1,"dplay-tbl-cell"],["src","assets/images/upload-icon.svg","alt","upload"],[1,"m-0","text-start"],["type","file","id","file_upload","multiple","","data-traget-resolution","image_resolution","value","","accept",".jpg,.jpeg,.bmp,.png,.svg,.gif,.jfif,.pjpeg,pjp",1,"image-input",3,"change"],["fileInput",""],["class","choose-img mt-3 d-flex",4,"ngIf"],["for","file_upload1",2,"cursor","pointer"],["type","file","id","file_upload1","multiple","","data-traget-resolution","image_resolution","value","","accept","audio/*",1,"image-input",3,"change"],["voiceInput",""],[1,"notification__container"],[1,"btn","btn-red",3,"click"],["mat-dialog-close","",1,"btn","btn-grey"],[4,"ngIf","ngIfElse"],["requiredError",""],[1,"choose-img","mt-3","d-flex"],["class","answers","formArrayName","image",4,"ngFor","ngForOf"],["formArrayName","image",1,"answers"],[1,"flbx-vac",3,"formGroupName"],[1,"answer"],[1,"preview_img",3,"src"],[1,"close"],["src","assets/images/close.svg",3,"click"],["class","answers","formArrayName","audio",4,"ngFor","ngForOf"],["formArrayName","audio",1,"answers"],["controls","",1,"preview_img",3,"src"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),e._uU(4,"Add Voice Of Change"),e.qZA(),e.TgZ(5,"form",4)(6,"mat-form-field",5)(7,"mat-label"),e._uU(8,"Name of Person"),e.qZA(),e._UZ(9,"input",6),e.qZA(),e.YNc(10,me,4,2,"mat-error",7),e.TgZ(11,"mat-form-field",5)(12,"mat-label"),e._uU(13,"Designation And Location"),e.qZA(),e._UZ(14,"input",8),e.YNc(15,ge,4,2,"mat-error",7),e.qZA(),e.TgZ(16,"mat-form-field",5)(17,"mat-label"),e._uU(18,"Speaks Type"),e.qZA(),e.TgZ(19,"textarea",9),e._uU(20,"          <mat-error *ngIf=\"\n            testimonialForm.get('comments')?.invalid "),e._uU(21,"&"),e._uU(22,"&"),e._uU(23),e.qZA()(),e.TgZ(24,"div",10)(25,"div",11)(26,"h3"),e._uU(27,"Upload Picture"),e.qZA()(),e.TgZ(28,"div",12)(29,"div",13)(30,"div",14)(31,"div",15)(32,"div",16),e.NdJ("drop",function(a){return n.filesDropped(a,"image")}),e.TgZ(33,"label",17)(34,"div",18)(35,"div",19)(36,"div",20),e._UZ(37,"img",21),e.TgZ(38,"div")(39,"h3",22),e._uU(40," Drag and drop file here "),e.qZA(),e.TgZ(41,"p",22),e._uU(42,"Or"),e.qZA(),e.TgZ(43,"h2",22),e._uU(44,"Browse file"),e.qZA()()()()(),e.TgZ(45,"input",23,24),e.NdJ("change",function(a){return n.onFileSelection(a,"image")}),e.qZA(),e.YNc(47,_e,2,0,"mat-error",7),e.qZA()()()()()(),e.YNc(48,he,2,1,"div",25),e.qZA(),e.TgZ(49,"div",10)(50,"div",11)(51,"h3"),e._uU(52,"Upload Voice File"),e.qZA()(),e.TgZ(53,"div",12)(54,"div",13)(55,"div",14)(56,"div",15)(57,"div",16),e.NdJ("drop",function(a){return n.filesDropped(a,"audio")}),e.TgZ(58,"label",26)(59,"div",18)(60,"div",19)(61,"div",20),e._UZ(62,"img",21),e.TgZ(63,"div")(64,"h3",22),e._uU(65," Drag and drop file here "),e.qZA(),e.TgZ(66,"p",22),e._uU(67,"Or"),e.qZA(),e.TgZ(68,"h2",22),e._uU(69,"Browse file"),e.qZA()()()()(),e.TgZ(70,"input",27,28),e.NdJ("change",function(a){return n.onFileSelection(a,"audio")}),e.qZA(),e.YNc(72,ve,2,0,"mat-error",7),e.qZA()()()()()(),e.YNc(73,xe,2,1,"div",25),e.qZA()()()(),e.TgZ(74,"div",29)(75,"button",30),e.NdJ("click",function(){return n.onSave()}),e._uU(76,"Save"),e.qZA(),e.TgZ(77,"button",31),e._uU(78,"Cancel"),e.qZA()()()),2&t){let i,a,s,l,p;e.xp6(5),e.Q6J("formGroup",n.testimonialForm),e.xp6(5),e.Q6J("ngIf",(null==(i=n.testimonialForm.get("name"))?null:i.invalid)&&((null==(i=n.testimonialForm.get("name"))?null:i.dirty)||(null==(i=n.testimonialForm.get("name"))?null:i.touched))),e.xp6(5),e.Q6J("ngIf",(null==(a=n.testimonialForm.get("designation"))?null:a.invalid)&&((null==(a=n.testimonialForm.get("designation"))?null:a.dirty)||(null==(a=n.testimonialForm.get("designation"))?null:a.touched))),e.xp6(8),e.hij("\n            (testimonialForm.get('comments')?.dirty ||\n              testimonialForm.get('comments')?.touched)\n          \">\n          <div *ngIf=\"\n              testimonialForm.get('comments')?.hasError('trimError');\n              else requiredError\n            \">\n            ",null==(s=n.testimonialForm.get("comments"))||null==s.errors||null==s.errors.trimError?null:s.errors.trimError.value,"\n          </div>\n          <ng-template #requiredError>\n            <ng-container *ngIf=\"testimonialForm.get('designation')?.invalid\">\n              Speaks type required\n            </ng-container>\n          </ng-template>\n        </mat-error>\n          "),e.xp6(24),e.Q6J("ngIf",null==(l=n.testimonialForm.get("image"))||null==l.errors?null:l.errors.required),e.xp6(1),e.Q6J("ngIf",n.photosOrVideos.value.length),e.xp6(24),e.Q6J("ngIf",null==(p=n.testimonialForm.get("audio"))||null==p.errors?null:p.errors.required),e.xp6(1),e.Q6J("ngIf",n.audioFiles.value.length)}},directives:[c._Y,c.JL,c.sg,f.KE,f.hX,w.Nt,c.Fj,c.JJ,c.u,d.O5,f.TO,Z.w,d.sg,c.CE,c.x0,m.ZT],styles:[".close[_ngcontent-%COMP%]{position:absolute;top:0;right:0}.answer[_ngcontent-%COMP%]{position:relative;width:100%}.answer[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{max-width:100%;border-radius:5px;width:100%;object-fit:cover;height:100px}.preview_img[_ngcontent-%COMP%]{height:100px;object-fit:cover}.answers[_ngcontent-%COMP%]{width:18%;margin-right:10px}@media screen and (max-width: 767px){.answers[_ngcontent-%COMP%]{width:100%!important}}.answers[_ngcontent-%COMP%]   .flbx-vac[_ngcontent-%COMP%]{width:100%}.upload[_ngcontent-%COMP%]{padding:20px 0}form.ng-pristine[_ngcontent-%COMP%]{height:300px;overflow-y:scroll}"]}),o})();function Ze(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7),e._UZ(4,"img",8),e.qZA(),e.TgZ(5,"h2"),e._uU(6),e.TgZ(7,"span"),e._uU(8),e.qZA()()(),e.TgZ(9,"div",9)(10,"a",10),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw().deleteVoiceOfChangeData(null==a?null:a.imageName)}),e.qZA()()()()}if(2&o){const t=r.$implicit;e.xp6(4),e.Q6J("src",null==t?null:t.vocPictureLocation,e.LSH),e.xp6(2),e.hij(" ",null==t?null:t.personName," "),e.xp6(2),e.Oqu(null==t?null:t.designationOrInfo)}}let be=(()=>{class o{constructor(t,n,i){this.dialog=t,this.apiService=n,this.toastr=i}ngOnInit(){this.apiService.adminSideNavChanged$.subscribe(t=>{(null==t?void 0:t.status)&&"testimonials"==(null==t?void 0:t.type)&&(this.vocData=t.testimonialData)})}createVoiceOfChange(){this.dialog.open(Te,{width:"670px",data:{}}).afterClosed().subscribe(n=>{(null==n?void 0:n.status)&&this.toastr.success(null==n?void 0:n.message)})}removeDataFromApi(t){this.dialog.open(x.p,{width:"470px",data:{heading:"Delete Voice Of Change?",message:"Are you sure you want to delete the Voice Of Change?"}}).afterClosed().subscribe(i=>{if(i){const a=`${g.P.deleteVoiceOfChangeData()}?imageName=${t.toString()}`;this.apiService.delete({},a).subscribe(()=>{this.apiService.adminDataChange$.next(!0),this.toastr.success("Voice Of Change deleted Successfully")})}})}deleteVoiceOfChangeData(t){this.removeDataFromApi(t)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(m.uw),e.Y36(_.s),e.Y36(h._W))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-voice-of-change"]],inputs:{vocData:"vocData"},decls:7,vars:1,consts:[[1,"header-Landing_config"],[1,"btn-create",3,"click"],[1,"content-wrap_cms"],["class","cms_content_box",4,"ngFor","ngForOf"],[1,"cms_content_box"],[1,"first_sec"],[1,"title_sec"],[1,"img-box"],[3,"src"],[1,"btn_sec"],[1,"delete",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"Manage voice of change"),e.qZA(),e.TgZ(3,"a",1),e.NdJ("click",function(){return n.createVoiceOfChange()}),e._uU(4,"+ Create"),e.qZA()(),e.TgZ(5,"div",2),e.YNc(6,Ze,11,3,"div",3),e.qZA()),2&t&&(e.xp6(6),e.Q6J("ngForOf",n.vocData))},directives:[d.sg],styles:[".upload[_ngcontent-%COMP%]{padding:0!important}"]}),o})();const we=["fileInput"];function Oe(o,r){if(1&o&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);let n;e.xp6(1),e.hij(" ",null==(n=t.testimonialForm.get("name"))||null==n.errors||null==n.errors.trimError?null:n.errors.trimError.value," ")}}function ye(o,r){1&o&&(e.ynx(0),e._uU(1," Testimonial name required "),e.BQk())}function Ae(o,r){if(1&o&&e.YNc(0,ye,2,0,"ng-container",7),2&o){const t=e.oxw(2);let n;e.Q6J("ngIf",null==(n=t.testimonialForm.get("name"))?null:n.invalid)}}function Ie(o,r){if(1&o&&(e.TgZ(0,"mat-error"),e.YNc(1,Oe,2,1,"div",29),e.YNc(2,Ae,1,1,"ng-template",null,30,e.W1O),e.qZA()),2&o){const t=e.MAs(3),n=e.oxw();let i;e.xp6(1),e.Q6J("ngIf",null==(i=n.testimonialForm.get("name"))?null:i.hasError("trimError"))("ngIfElse",t)}}function Fe(o,r){if(1&o&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);let n;e.xp6(1),e.hij(" ",null==(n=t.testimonialForm.get("designation"))||null==n.errors||null==n.errors.trimError?null:n.errors.trimError.value," ")}}function Ue(o,r){1&o&&(e.ynx(0),e._uU(1," Designation and Location required "),e.BQk())}function qe(o,r){if(1&o&&e.YNc(0,Ue,2,0,"ng-container",7),2&o){const t=e.oxw(2);let n;e.Q6J("ngIf",null==(n=t.testimonialForm.get("designation"))?null:n.invalid)}}function Le(o,r){if(1&o&&(e.TgZ(0,"mat-error"),e.YNc(1,Fe,2,1,"div",29),e.YNc(2,qe,1,1,"ng-template",null,30,e.W1O),e.qZA()),2&o){const t=e.MAs(3),n=e.oxw();let i;e.xp6(1),e.Q6J("ngIf",null==(i=n.testimonialForm.get("designation"))?null:i.hasError("trimError"))("ngIfElse",t)}}function Pe(o,r){if(1&o&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);let n;e.xp6(1),e.hij(" ",null==(n=t.testimonialForm.get("comments"))||null==n.errors||null==n.errors.trimError?null:n.errors.trimError.value," ")}}function Se(o,r){1&o&&(e.ynx(0),e._uU(1," Description required "),e.BQk())}function Ne(o,r){if(1&o&&e.YNc(0,Se,2,0,"ng-container",7),2&o){const t=e.oxw(2);let n;e.Q6J("ngIf",null==(n=t.testimonialForm.get("comments"))?null:n.invalid)}}function ke(o,r){if(1&o&&(e.TgZ(0,"mat-error"),e.YNc(1,Pe,2,1,"div",29),e.YNc(2,Ne,1,1,"ng-template",null,30,e.W1O),e.qZA()),2&o){const t=e.MAs(3),n=e.oxw();let i;e.xp6(1),e.Q6J("ngIf",null==(i=n.testimonialForm.get("comments"))?null:i.hasError("trimError"))("ngIfElse",t)}}function Me(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Please select any image file of format .jpg, .jpeg, .bmp, .png, .svg, .gif, .jfif, .pjpeg, pjp "),e.qZA())}function Je(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",33)(1,"div",34)(2,"label",35),e._UZ(3,"img",36),e.TgZ(4,"div",37)(5,"img",38),e.NdJ("click",function(){const a=e.CHM(t).index;return e.oxw(2).clearImage(a)}),e.qZA()()()()()}if(2&o){const t=r.$implicit,n=r.index;let i;e.xp6(1),e.Q6J("formGroupName",n),e.xp6(2),e.Q6J("src",null==(i=t.get("url"))?null:i.value,e.LSH)}}function Ye(o,r){if(1&o&&(e.TgZ(0,"div",31),e.YNc(1,Je,6,2,"div",32),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",null==t.photosOrVideos?null:t.photosOrVideos.controls)}}let Ee=(()=>{class o{constructor(t,n,i,a,s,l,p,b){this.dialogRef=t,this.data=n,this.fb=i,this.sanitizer=a,this.toastr=s,this.communicationService=l,this.storageService=p,this.apiService=b,this.limit=1,this.allowedFileExtensions=["jpg","svg","jpeg","png","gif","jfif","pjpeg","pjp"]}ngOnInit(){this.testimonialForm=this.initializeFromGroup()}get photosOrVideos(){return this.testimonialForm.controls.image}initializeFromGroup(){return this.fb.group({name:["",[c.kI.required]],designation:["",[c.kI.required]],comments:["",[c.kI.required]],image:this.fb.array([],[c.kI.required])})}createItem(t){return this.fb.group({file:[t.file],url:[t.url]})}onFileSelection(t){const n=t.target.files;if(n.length>0){for(var i=0;i<n.length;i++){const a=n[i];if(this.fileInputValidation(a)){const s=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(a));this.photosOrVideos.push(this.createItem({file:a,url:s}))}n.length-1==i&&(this.fileInput.nativeElement.value="")}return!0}return!1}fileInputValidation(t){try{return this.photosOrVideos.value.length>this.limit-1?(this.toastr.info("Max allowed files is 1"),this.fileInput.nativeElement.value="",!1):this.photosOrVideos.value.find(i=>i.file.name?-1!==i.file.name.indexOf(t.name):-1!==i.file.imageName.indexOf(t.name))?(this.toastr.info("Duplicate file name"),this.fileInput.nativeElement.value="",!1):t.size>5242880?(this.toastr.info("Maximum allowed file size is 5mb"),!1):this.validateImageOrVideoExtensions(t)}catch(i){}return!0}validateImageOrVideoExtensions(t){try{var i=t.name;if(!(i.length>0))return!1;for(var a=!1,s=0;s<this.allowedFileExtensions.length;s++){var l=this.allowedFileExtensions[s];if(i.substr(i.lastIndexOf(".")+1).toLowerCase()==l.toLowerCase()){a=!0;break}}if(!a)return this.toastr.warning("Sorry, "+i+" is invalid, allowed extensions are: "+this.allowedFileExtensions.join(", ")),!1}catch(p){}return!0}clearImage(t){try{this.photosOrVideos.removeAt(t)}catch(n){}}filesDropped(t){try{if(this.fileInputValidation(t.dataTransfer.files))for(let n=0;n<t.dataTransfer.files.length;n++){const i=t.dataTransfer.files[n],a=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(i));this.photosOrVideos.push(this.createItem({file:i,url:a}))}}catch(n){}}onSave(){if(this.testimonialForm.valid){var t=new FormData;for(const[n,i]of this.photosOrVideos.value.entries())t.append("images",i.file);t.append("testimonialName",this.testimonialForm.controls.name.value),t.append("designationAndLocation",this.testimonialForm.controls.designation.value),t.append("description",this.testimonialForm.controls.comments.value),this.callSaveToApi(t).then(n=>{})}else this.toastr.info("Please fill all the required fields")}callSaveToApi(t){const n={headers:new v.WM({"Content-Type":"undefined"})};return new Promise((i,a)=>{if(t){let s="";this.communicationService.post(g.P.uploadTestimonialData(),t,n,!0).subscribe({next:l=>{s=l.message,i(l)},error:l=>{this.toastr.error(l.error.message),a(l)},complete:()=>{this.dialogRef.close({status:!0,type:"add",message:s}),this.apiService.adminDataChange$.next(!0)}})}else i([])})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(m.so),e.Y36(m.WI),e.Y36(c.qu),e.Y36(T.H7),e.Y36(h._W),e.Y36(C.O),e.Y36(O.C),e.Y36(_.s))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-create-testimonial"]],viewQuery:function(t,n){if(1&t&&e.Gf(we,5),2&t){let i;e.iGM(i=e.CRH())&&(n.fileInput=i.first)}},decls:52,vars:6,consts:[[1,"closed__wrapper"],[1,""],[1,"chat__element"],[1,"heading"],[3,"formGroup"],["appearance","outline"],["matInput","","placeholder","Name","formControlName","name"],[4,"ngIf"],["matInput","","placeholder","Designation","formControlName","designation"],["matInput","","placeholder","Comments","formControlName","comments"],[1,"upload"],[1,"flbx-stretch","align-items-start"],[1,"item-wrapper","one"],[1,"item"],[1,"item-inner"],[1,"item-content"],["appDrag","",1,"image-upload",3,"drop"],["for","file_upload",2,"cursor","pointer"],[1,"h-100"],[1,"dplay-tbl"],[1,"dplay-tbl-cell"],["src","assets/images/upload-icon.svg","alt","upload"],[1,"m-0","text-start"],["type","file","id","file_upload","multiple","","data-traget-resolution","image_resolution","value","","accept",".jpg,.jpeg,.bmp,.png,.svg,.gif,.jfif,.pjpeg,pjp",1,"image-input",3,"change"],["fileInput",""],["class","choose-img mt-3 d-flex",4,"ngIf"],[1,"notification__container"],[1,"btn","btn-red",3,"click"],["mat-dialog-close","",1,"btn","btn-grey"],[4,"ngIf","ngIfElse"],["requiredError",""],[1,"choose-img","mt-3","d-flex"],["class","answers","formArrayName","image",4,"ngFor","ngForOf"],["formArrayName","image",1,"answers"],[1,"flbx-vac",3,"formGroupName"],[1,"answer"],[1,"preview_img",3,"src"],[1,"close"],["src","assets/images/close.svg",3,"click"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),e._uU(4,"Add Testimonial"),e.qZA(),e.TgZ(5,"form",4)(6,"mat-form-field",5)(7,"mat-label"),e._uU(8,"Name"),e.qZA(),e._UZ(9,"input",6),e.qZA(),e.YNc(10,Ie,4,2,"mat-error",7),e.TgZ(11,"mat-form-field",5)(12,"mat-label"),e._uU(13,"Designation"),e.qZA(),e._UZ(14,"input",8),e.qZA(),e.YNc(15,Le,4,2,"mat-error",7),e.TgZ(16,"mat-form-field",5)(17,"mat-label"),e._uU(18,"Description"),e.qZA(),e.TgZ(19,"textarea",9),e._uU(20,"          "),e.qZA()(),e.YNc(21,ke,4,2,"mat-error",7),e.TgZ(22,"div",10)(23,"div",11)(24,"h3"),e._uU(25,"Upload Picture"),e.qZA()(),e.TgZ(26,"div",12)(27,"div",13)(28,"div",14)(29,"div",15)(30,"div",16),e.NdJ("drop",function(a){return n.filesDropped(a)}),e.TgZ(31,"label",17)(32,"div",18)(33,"div",19)(34,"div",20),e._UZ(35,"img",21),e.TgZ(36,"div")(37,"h3",22),e._uU(38," Drag and drop file here "),e.qZA(),e.TgZ(39,"p",22),e._uU(40,"Or"),e.qZA(),e.TgZ(41,"h2",22),e._uU(42,"Browse file"),e.qZA()()()()(),e.TgZ(43,"input",23,24),e.NdJ("change",function(a){return n.onFileSelection(a)}),e.qZA(),e.YNc(45,Me,2,0,"mat-error",7),e.qZA()()()()()(),e.YNc(46,Ye,2,1,"div",25),e.qZA()()()(),e.TgZ(47,"div",26)(48,"button",27),e.NdJ("click",function(){return n.onSave()}),e._uU(49,"Save"),e.qZA(),e.TgZ(50,"button",28),e._uU(51,"Cancel"),e.qZA()()()),2&t){let i,a,s,l;e.xp6(5),e.Q6J("formGroup",n.testimonialForm),e.xp6(5),e.Q6J("ngIf",(null==(i=n.testimonialForm.get("name"))?null:i.invalid)&&((null==(i=n.testimonialForm.get("name"))?null:i.dirty)||(null==(i=n.testimonialForm.get("name"))?null:i.touched))),e.xp6(5),e.Q6J("ngIf",(null==(a=n.testimonialForm.get("designation"))?null:a.invalid)&&((null==(a=n.testimonialForm.get("designation"))?null:a.dirty)||(null==(a=n.testimonialForm.get("designation"))?null:a.touched))),e.xp6(6),e.Q6J("ngIf",(null==(s=n.testimonialForm.get("comments"))?null:s.invalid)&&((null==(s=n.testimonialForm.get("comments"))?null:s.dirty)||(null==(s=n.testimonialForm.get("comments"))?null:s.touched))),e.xp6(24),e.Q6J("ngIf",null==(l=n.testimonialForm.get("image"))||null==l.errors?null:l.errors.required),e.xp6(1),e.Q6J("ngIf",n.photosOrVideos.value.length)}},directives:[c._Y,c.JL,c.sg,f.KE,f.hX,w.Nt,c.Fj,c.JJ,c.u,d.O5,f.TO,Z.w,d.sg,c.CE,c.x0,m.ZT],styles:[".close[_ngcontent-%COMP%]{position:absolute;top:0;right:0}.answer[_ngcontent-%COMP%]{position:relative;width:100%}.answer[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{max-width:100%;border-radius:5px;width:100%;object-fit:cover;height:100px}.preview_img[_ngcontent-%COMP%]{height:100px;object-fit:cover}.answers[_ngcontent-%COMP%]{width:18%;margin-right:10px}@media screen and (max-width: 767px){.answers[_ngcontent-%COMP%]{width:100%!important}}.answers[_ngcontent-%COMP%]   .flbx-vac[_ngcontent-%COMP%]{width:100%}.upload[_ngcontent-%COMP%]{padding:20px 0}form.ng-pristine[_ngcontent-%COMP%]{height:300px;overflow-y:scroll}"]}),o})();function De(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7),e._UZ(4,"img",8),e.qZA(),e.TgZ(5,"h2"),e._uU(6),e.TgZ(7,"span"),e._uU(8),e.qZA()()(),e.TgZ(9,"div",9)(10,"a",10),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw().deleteTestimonialData(null==a?null:a.imageName)}),e.qZA()()(),e.TgZ(11,"div",11)(12,"p"),e._uU(13),e.qZA()()()}if(2&o){const t=r.$implicit;e.xp6(4),e.Q6J("src",null==t?null:t.testimonialPictureLocation,e.LSH),e.xp6(2),e.hij(" ",t.testimonialName," "),e.xp6(2),e.Oqu(null==t?null:t.designationAndLocation),e.xp6(5),e.hij(" ",null==t?null:t.description," ")}}let Ve=(()=>{class o{constructor(t,n,i){this.dialog=t,this.apiService=n,this.toastr=i}ngOnInit(){this.apiService.adminSideNavChanged$.subscribe(t=>{(null==t?void 0:t.status)&&"voice-of-change"==(null==t?void 0:t.type)&&(this.testimonialData=t.voiceOfChange)})}createTestimonial(){this.dialog.open(Ee,{width:"670px",data:{}}).afterClosed().subscribe(n=>{(null==n?void 0:n.status)&&this.toastr.success(null==n?void 0:n.message)})}removeDataFromApi(t){this.dialog.open(x.p,{width:"470px",data:{heading:"Delete Testimonial?",message:"Are you sure you want to delete the Testimonial?"}}).afterClosed().subscribe(i=>{if(i){const a=`${g.P.deleteTestimonialData()}?imageName=${t.toString()}`;this.apiService.delete({},a).subscribe(()=>{this.apiService.adminDataChange$.next(!0),this.toastr.success("Testimonial deleted Successfully")})}})}deleteTestimonialData(t){this.removeDataFromApi(t)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(m.uw),e.Y36(_.s),e.Y36(h._W))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-testimonials"]],inputs:{testimonialData:"testimonialData"},decls:7,vars:1,consts:[[1,"header-Landing_config"],[1,"btn-create",3,"click"],[1,"content-wrap_cms"],["class","cms_content_box",4,"ngFor","ngForOf"],[1,"cms_content_box"],[1,"first_sec"],[1,"title_sec"],[1,"img-box"],[3,"src"],[1,"btn_sec"],[1,"delete",3,"click"],[1,"second_sec"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"Manage Testimonials"),e.qZA(),e.TgZ(3,"a",1),e.NdJ("click",function(){return n.createTestimonial()}),e._uU(4,"+ Create"),e.qZA()(),e.TgZ(5,"div",2),e.YNc(6,De,14,4,"div",3),e.qZA()),2&t&&(e.xp6(6),e.Q6J("ngForOf",n.testimonialData))},directives:[d.sg],styles:[""]}),o})();const Qe=["fileInput"];function je(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1," Please select any image file of format .jpg, .jpeg, .bmp, .png, .svg, .gif, .jfif, .pjpeg, pjp "),e.qZA())}function Re(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",27)(1,"div",28)(2,"label",29),e._UZ(3,"img",30),e.TgZ(4,"div",31)(5,"img",32),e.NdJ("click",function(){const a=e.CHM(t).index;return e.oxw(2).clearImage(a)}),e.qZA()()()()()}if(2&o){const t=r.$implicit,n=r.index;let i;e.xp6(1),e.Q6J("formGroupName",n),e.xp6(2),e.Q6J("src",null==(i=t.get("url"))?null:i.value,e.LSH)}}function Be(o,r){if(1&o&&(e.TgZ(0,"div",25),e.YNc(1,Re,6,2,"div",26),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",null==t.photos?null:t.photos.controls)}}let $e=(()=>{class o{constructor(t,n,i,a,s,l,p){this.dialogRef=t,this.data=n,this.fb=i,this.sanitizer=a,this.toastr=s,this.communicationService=l,this.apiService=p,this.limit=5,this.allowedFileExtensions=["jpg","svg","jpeg","png","gif","jfif","pjpeg","pjp"]}ngOnInit(){this.bannerPictureForm=this.initializeFromGroup()}initializeFromGroup(){return this.fb.group({image:this.fb.array([],[c.kI.required])})}get photos(){return this.bannerPictureForm.controls.image}createItem(t){return this.fb.group({file:[t.file],url:[t.url]})}onFileSelection(t){const n=t.target.files;if(n.length>0){for(var i=0;i<n.length;i++){const a=n[i];if(this.fileInputValidation(a)){const s=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(a));this.photos.push(this.createItem({file:a,url:s}))}n.length-1==i&&(this.fileInput.nativeElement.value="")}return!0}return!1}fileInputValidation(t){try{return this.photos.value.length>this.limit-1?(this.toastr.info("Max allowed files is 5"),this.fileInput.nativeElement.value="",!1):this.photos.value.find(i=>i.file.name?-1!==i.file.name.indexOf(t.name):-1!==i.file.imageName.indexOf(t.name))?(this.toastr.info("Duplicate file name"),this.fileInput.nativeElement.value="",!1):t.size>5242880?(this.toastr.info("Maximum allowed file size is 5mb"),!1):this.validateImageOrVideoExtensions(t)}catch(i){}return!0}validateImageOrVideoExtensions(t){try{var i=t.name;if(!(i.length>0))return!1;for(var a=!1,s=0;s<this.allowedFileExtensions.length;s++){var l=this.allowedFileExtensions[s];if(i.substr(i.lastIndexOf(".")+1).toLowerCase()==l.toLowerCase()){a=!0;break}}if(!a)return this.toastr.warning("Sorry, "+i+" is invalid, allowed extensions are: "+this.allowedFileExtensions.join(", ")),!1}catch(p){}return!0}clearImage(t){try{this.photos.removeAt(t)}catch(n){}}filesDropped(t){try{if(this.fileInputValidation(t.dataTransfer.files))for(let n=0;n<t.dataTransfer.files.length;n++){const i=t.dataTransfer.files[n],a=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(i));this.photos.push(this.createItem({file:i,url:a}))}}catch(n){}}onSave(){if(this.bannerPictureForm.valid){console.log(this.bannerPictureForm.value),console.log(this.photos.value.entries);const t=new FormData;for(const[n,i]of this.photos.value.entries())t.append("images",i.file);this.callSaveToApi(t).then(n=>{})}else this.toastr.info("Please fill all the required fields")}callSaveToApi(t){const n={headers:new v.WM({"Content-Type":"undefined"})};return new Promise((i,a)=>{if(t){let s="";this.communicationService.post(g.P.uploadLogoPartner(),t,n,!0).subscribe({next:l=>{s=l.message,i(l)},error:l=>{this.toastr.error(l.error.message),a(l)},complete:()=>{this.dialogRef.close({status:!0,type:"add",message:s}),this.apiService.adminDataChange$.next(!0)}})}else i([])})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(m.so),e.Y36(m.WI),e.Y36(c.qu),e.Y36(T.H7),e.Y36(h._W),e.Y36(C.O),e.Y36(_.s))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-partners-logo-create"]],viewQuery:function(t,n){if(1&t&&e.Gf(Qe,5),2&t){let i;e.iGM(i=e.CRH())&&(n.fileInput=i.first)}},decls:36,vars:3,consts:[[1,"closed__wrapper"],[1,""],[1,"chat__element"],[1,"heading"],[3,"formGroup"],[1,"upload"],[1,"flbx-stretch","align-items-start"],[1,"item-wrapper","one"],[1,"item"],[1,"item-inner"],[1,"item-content"],["appDrag","",1,"image-upload",3,"drop"],["for","file_upload",2,"cursor","pointer"],[1,"h-100"],[1,"dplay-tbl"],[1,"dplay-tbl-cell"],["src","assets/images/upload-icon.svg","alt","upload"],[1,"m-0","text-start"],["type","file","id","file_upload","multiple","","data-traget-resolution","image_resolution","value","","accept",".jpg,.jpeg,.bmp,.png,.svg,.gif,.jfif,.pjpeg,pjp",1,"image-input",3,"change"],["fileInput",""],[4,"ngIf"],["class","choose-img mt-3 d-flex",4,"ngIf"],[1,"notification__container"],[1,"btn","btn-red",3,"click"],["mat-dialog-close","",1,"btn","btn-grey"],[1,"choose-img","mt-3","d-flex"],["class","answers","formArrayName","image",4,"ngFor","ngForOf"],["formArrayName","image",1,"answers"],[1,"flbx-vac",3,"formGroupName"],[1,"answer"],[1,"preview_img",3,"src"],[1,"close"],["src","assets/images/close.svg",3,"click"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),e._uU(4,"Add Partner's Logo"),e.qZA(),e.TgZ(5,"form",4)(6,"div",5)(7,"div",6)(8,"h3"),e._uU(9,"Upload Picture"),e.qZA()(),e.TgZ(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11),e.NdJ("drop",function(a){return n.filesDropped(a)}),e.TgZ(15,"label",12)(16,"div",13)(17,"div",14)(18,"div",15),e._UZ(19,"img",16),e.TgZ(20,"div")(21,"h3",17),e._uU(22," Drag and drop file here "),e.qZA(),e.TgZ(23,"p",17),e._uU(24,"Or"),e.qZA(),e.TgZ(25,"h2",17),e._uU(26,"Browse file"),e.qZA()()()()(),e.TgZ(27,"input",18,19),e.NdJ("change",function(a){return n.onFileSelection(a)}),e.qZA(),e.YNc(29,je,2,0,"mat-error",20),e.qZA()()()()()(),e.YNc(30,Be,2,1,"div",21),e.qZA()()()(),e.TgZ(31,"div",22)(32,"button",23),e.NdJ("click",function(){return n.onSave()}),e._uU(33,"Save"),e.qZA(),e.TgZ(34,"button",24),e._uU(35,"Cancel"),e.qZA()()()),2&t){let i;e.xp6(5),e.Q6J("formGroup",n.bannerPictureForm),e.xp6(24),e.Q6J("ngIf",null==(i=n.bannerPictureForm.get("image"))||null==i.errors?null:i.errors.required),e.xp6(1),e.Q6J("ngIf",n.photos.value.length)}},directives:[c._Y,c.JL,c.sg,Z.w,d.O5,f.TO,d.sg,c.CE,c.x0,m.ZT],styles:[".close[_ngcontent-%COMP%]{position:absolute;top:0;right:0}.answer[_ngcontent-%COMP%]{position:relative;width:100%}.answer[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{max-width:100%;border-radius:5px;width:100%;object-fit:cover;height:100px}.preview_img[_ngcontent-%COMP%]{height:100px;object-fit:cover}.answers[_ngcontent-%COMP%]{width:18%;margin-right:10px}@media screen and (max-width: 767px){.answers[_ngcontent-%COMP%]{width:100%!important}}.answers[_ngcontent-%COMP%]   .flbx-vac[_ngcontent-%COMP%]{width:100%}.upload[_ngcontent-%COMP%]{padding:20px 0}form.ng-pristine[_ngcontent-%COMP%]{height:300px;overflow-y:scroll}"]}),o})();function ze(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7),e._UZ(4,"img",8),e.qZA(),e.TgZ(5,"h2"),e._uU(6),e.qZA()(),e.TgZ(7,"div",9)(8,"a",10),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw().deletePartnersLogo(null==a?null:a.imageName)}),e.qZA()()()()}if(2&o){const t=r.$implicit;e.xp6(4),e.Q6J("src",null==t?null:t.partnersLogoLocation,e.LSH),e.xp6(2),e.Oqu(null==t?null:t.imageName)}}let Ge=(()=>{class o{constructor(t,n,i){this.dialog=t,this.apiService=n,this.toastr=i}ngOnInit(){this.apiService.adminSideNavChanged$.subscribe(t=>{(null==t?void 0:t.status)&&"partners-logos"==(null==t?void 0:t.type)&&(this.partnersData=t.partnersLogoLocation)})}createPartnersLogo(){this.dialog.open($e,{width:"670px",data:{}}).afterClosed().subscribe(n=>{(null==n?void 0:n.status)&&this.toastr.success(null==n?void 0:n.message)})}removeDataFromApi(t){this.dialog.open(x.p,{width:"470px",data:{heading:"Delete Partners Logo?",message:"Are you sure you want to delete the Partners Logo?"}}).afterClosed().subscribe(i=>{if(i){const a=`${g.P.deletePartnersLogo()}?imageName=${t.toString()}`;this.apiService.delete({},a).subscribe(()=>{this.apiService.adminDataChange$.next(!0),this.toastr.success("Partner logo deleted Successfully")})}})}deletePartnersLogo(t){this.removeDataFromApi(t)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(m.uw),e.Y36(_.s),e.Y36(h._W))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-partner-logos"]],inputs:{partnersData:"partnersData"},decls:7,vars:1,consts:[[1,"header-Landing_config"],[1,"btn-create",3,"click"],[1,"content-wrap_cms"],["class","cms_content_box",4,"ngFor","ngForOf"],[1,"cms_content_box"],[1,"first_sec"],[1,"title_sec"],[1,"img-box"],[3,"src"],[1,"btn_sec"],[1,"delete",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"Manage Partners Logo"),e.qZA(),e.TgZ(3,"a",1),e.NdJ("click",function(){return n.createPartnersLogo()}),e._uU(4,"+ Create"),e.qZA()(),e.TgZ(5,"div",2),e.YNc(6,ze,9,2,"div",3),e.qZA()),2&t&&(e.xp6(6),e.Q6J("ngForOf",n.partnersData))},directives:[d.sg],styles:["form.ng-pristine[_ngcontent-%COMP%]{height:300px;overflow-y:scroll}"]}),o})();function He(o,r){1&o&&e._UZ(0,"div")}function We(o,r){if(1&o&&(e.ynx(0),e._UZ(1,"app-banner",11),e.BQk()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("bannerData",t.bannerImages)}}function Xe(o,r){if(1&o&&(e.ynx(0),e._UZ(1,"app-leaders-talk",12),e.BQk()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("leadersData",t.leadersData)}}function Ke(o,r){if(1&o&&(e.ynx(0),e._UZ(1,"app-youtube-videos",13),e.BQk()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ytData",t.video)}}function et(o,r){if(1&o&&(e.ynx(0),e._UZ(1,"app-voice-of-change",14),e.BQk()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("vocData",t.voiceOfChange)}}function tt(o,r){if(1&o&&(e.ynx(0),e._UZ(1,"app-testimonials",15),e.BQk()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("testimonialData",t.testimonialData)}}function nt(o,r){if(1&o&&(e.ynx(0),e._UZ(1,"app-partner-logos",16),e.BQk()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("partnersData",t.partnersLogoLocation)}}function it(o,r){1&o&&(e.ynx(0),e._UZ(1,"app-banner"),e.BQk())}function ot(o,r){1&o&&(e.YNc(0,We,2,1,"ng-container",9),e.YNc(1,Xe,2,1,"ng-container",9),e.YNc(2,Ke,2,1,"ng-container",9),e.YNc(3,et,2,1,"ng-container",9),e.YNc(4,tt,2,1,"ng-container",9),e.YNc(5,nt,2,1,"ng-container",9),e.YNc(6,it,2,0,"ng-container",10)),2&o&&(e.Q6J("ngSwitchCase","bannersImage"),e.xp6(1),e.Q6J("ngSwitchCase","leaders-talks"),e.xp6(1),e.Q6J("ngSwitchCase","youtube-video"),e.xp6(1),e.Q6J("ngSwitchCase","voice-of-change"),e.xp6(1),e.Q6J("ngSwitchCase","testimonials"),e.xp6(1),e.Q6J("ngSwitchCase","partners-logos"))}const rt=[{path:"",component:I},{path:"banner-list",data:{roles:[F.G.CADMIN,F.G.ADMIN]},component:(()=>{class o{constructor(t,n){this.apiService=t,this.appLoaderService=n,this.currentRoute="",this.isMenuCollapse=!1,this.isLoading=!0,this.apiService.viewBreadCrumb$.next({status:!0,label:"",activityName:""}),this.setRoute("bannersImage"),this.appLoaderService.loaderVisibility$.subscribe(a=>{this.isLoading=a})}ngOnInit(){this.getData(),this.apiService.adminDataChange$.subscribe(t=>{t&&this.getData()})}getData(){const t=`${g.P.getLandingPageDetailsUrl()}`;this.apiService.get(t).subscribe(n=>{this.bannerImages=n.data.banner,this.partnersLogoLocation=n.data.partners,this.testimonialData=n.data.testimonial,this.leadersData=n.data.leadersTalk,this.voiceOfChange=n.data.voiceOfChange;for(let i of n.data.video){const a=this.extractVideoId(i.videoURL);i.videoImage=`https://img.youtube.com/vi/${a}/hqdefault.jpg`}this.video=n.data.video,this.apiService.adminSideNavChanged$.next({status:!0,type:this.currentRoute,bannerImages:this.bannerImages,partnersLogoLocation:this.partnersLogoLocation,testimonialData:this.testimonialData,leadersData:this.leadersData,voiceOfChange:this.voiceOfChange,video:this.video})})}extractVideoId(t){const i=t.match(/\/embed\/([^?]+)/);return i?i[1]:""}setRoute(t){this.currentRoute=t,this.getData()}onMenuClick(){this.isMenuCollapse=!this.isMenuCollapse}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(_.s),e.Y36(te.P))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-side-nav"]],decls:29,vars:10,consts:[[1,"container-fluid","landingpage_cms",3,"ngClass"],[1,"cms_menu_btn",3,"click"],[1,"material-symbols-outlined"],[1,"row"],[1,"sidemenu_card"],[3,"ngClass","click"],[1,"content-wrapper",3,"ngSwitch"],[4,"ngIf","ngIfElse"],["content",""],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"bannerData"],[3,"leadersData"],[3,"ytData"],[3,"vocData"],[3,"testimonialData"],[3,"partnersData"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"a",1),e.NdJ("click",function(){return n.onMenuClick()}),e.TgZ(2,"span",2),e._uU(3,"menu"),e.qZA()(),e.TgZ(4,"div",3)(5,"div",4)(6,"ul")(7,"li")(8,"a",5),e.NdJ("click",function(){return n.setRoute("bannersImage")}),e._uU(9,"Banners"),e.qZA()(),e.TgZ(10,"li")(11,"a",5),e.NdJ("click",function(){return n.setRoute("leaders-talks")}),e._uU(12,"Leaders Talks"),e.qZA()(),e.TgZ(13,"li")(14,"a",5),e.NdJ("click",function(){return n.setRoute("youtube-video")}),e._uU(15,"Youtube Video "),e.qZA()(),e.TgZ(16,"li")(17,"a",5),e.NdJ("click",function(){return n.setRoute("voice-of-change")}),e._uU(18,"Voice of Change"),e.qZA()(),e.TgZ(19,"li")(20,"a",5),e.NdJ("click",function(){return n.setRoute("testimonials")}),e._uU(21,"Testimonials"),e.qZA()(),e.TgZ(22,"li")(23,"a",5),e.NdJ("click",function(){return n.setRoute("partners-logos")}),e._uU(24,"Partners Logos"),e.qZA()()()(),e.TgZ(25,"div",6),e.YNc(26,He,1,0,"div",7),e.YNc(27,ot,7,6,"ng-template",null,8,e.W1O),e.qZA()()()),2&t){const i=e.MAs(28);e.Q6J("ngClass",n.isMenuCollapse?"menu-deactive":" "),e.xp6(8),e.Q6J("ngClass","bannersImage"===n.currentRoute?"active":""),e.xp6(3),e.Q6J("ngClass","leaders-talks"===n.currentRoute?"active":""),e.xp6(3),e.Q6J("ngClass","youtube-video"===n.currentRoute?"active":""),e.xp6(3),e.Q6J("ngClass","voice-of-change"===n.currentRoute?"active":""),e.xp6(3),e.Q6J("ngClass","testimonials"===n.currentRoute?"active":""),e.xp6(3),e.Q6J("ngClass","partners-logos"===n.currentRoute?"active":""),e.xp6(2),e.Q6J("ngSwitch",n.currentRoute),e.xp6(1),e.Q6J("ngIf",n.isLoading)("ngIfElse",i)}},directives:[d.mk,d.RF,d.O5,d.n9,I,U,oe,be,Ve,Ge,d.ED],styles:[".landingpage_cms[_ngcontent-%COMP%]{background:#E4E4E4;min-height:calc(100vh - 210px);position:relative}.sidemenu_card[_ngcontent-%COMP%]{width:230px;background:#fff;height:100%;position:absolute;top:0;left:0;padding:0;transition:.3s all}.sidemenu_card[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;margin:0}.sidemenu_card[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none}.sidemenu_card[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#a5a5a5;font-family:Poppins;font-size:16px;font-style:normal;font-weight:400;line-height:normal;display:block;border-bottom:1px solid #D7D7D7;background:#FFF;padding:13px 0 13px 10px;cursor:pointer;transition:.3s all}.sidemenu_card[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .sidemenu_card[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{transition:.3s all;border-bottom:1px solid #5D417D;background:#5D417D;color:#fff!important}.content-wrapper[_ngcontent-%COMP%]{padding-left:245px}.landingpage_cms.menu-deactive[_ngcontent-%COMP%]   .sidemenu_card[_ngcontent-%COMP%]{transition:.3s all;margin-left:-100%}.landingpage_cms.menu-deactive[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding-left:15px}form.ng-pristine[_ngcontent-%COMP%]{height:300px;overflow-y:scroll}"]}),o})()},{path:"leaders-talk",component:U}];let st=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[A.Bz.forChild(rt)],A.Bz]}),o})();var lt=u(7777);let ct=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[d.ez,st,lt.m]]}),o})()}}]);