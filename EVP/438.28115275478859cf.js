"use strict";(self.webpackChunkEVP=self.webpackChunkEVP||[]).push([[438],{2067:(I,f,a)=>{a.d(f,{G:()=>e});var t=a(8966),i=a(5e3),m=a(3392),p=a(9808);let e=(()=>{class r{constructor(d,c){this.dialogRef=d,this.data=c}getShortName(d){return d.split(" ").map(c=>c[0]).join("")}}return r.\u0275fac=function(d){return new(d||r)(i.Y36(t.so),i.Y36(t.WI))},r.\u0275cmp=i.Xpm({type:r,selectors:[["app-feedback-read-more"]],decls:17,vars:8,consts:[[1,"fdbk-details","flbx-stretch","align-items-start"],[1,"fb-user-avtar","flbx-vac"],[1,"uname"],[1,"username"],[1,"fb-date"],[1,"page__rightColumn"],["_ngcontent-yru-c354","","src","assets/images/close-btn.svg","mat-dialog-close",""],[1,"rating-wrapper","mt-3","mb-3"],["disabled","'true'",1,"disableDiv",3,"value"],[1,"fb-content"]],template:function(d,c){1&d&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2),i._uU(3),i.qZA(),i.TgZ(4,"div")(5,"h3",3),i._uU(6),i.qZA(),i.TgZ(7,"p",4),i._uU(8),i.ALo(9,"date"),i.qZA()()(),i.TgZ(10,"div",5),i._UZ(11,"img",6),i.qZA()(),i.TgZ(12,"div",7),i._UZ(13,"app-star-rating",8),i.qZA(),i.TgZ(14,"div",9)(15,"p"),i._uU(16),i.qZA()()),2&d&&(i.xp6(3),i.hij(" ",c.getShortName(null==c.data?null:c.data.fullName)," "),i.xp6(3),i.Oqu(null==c.data?null:c.data.fullName),i.xp6(2),i.Oqu(i.xi3(9,5,null==c.data?null:c.data.createdDate,"dd-MM-YYYY")),i.xp6(5),i.s9C("value",null==c.data?null:c.data.rating),i.xp6(3),i.Oqu(null==c.data?null:c.data.feedback))},directives:[t.ZT,m.T],pipes:[p.uU],styles:[".disableDiv[_ngcontent-%COMP%]{pointer-events:none;opacity:1}"]}),r})()},5209:(I,f,a)=>{a.d(f,{f:()=>J});var t=a(520),i=a(3075),m=a(58),p=a(9202),e=a(5e3),r=a(4383),s=a(2313),d=a(7603),c=a(5384),C=a(1617),M=a(4617),P=a(8966),D=a(7732),b=a(3392),A=a(9808),h=a(7322),v=a(8504),E=a(8833);const S=["fileInput"];function k(u,O){1&u&&(e.TgZ(0,"mat-error"),e._uU(1," Rating required "),e.qZA())}function Z(u,O){1&u&&(e.TgZ(0,"button",37),e._UZ(1,"img",38),e._uU(2," Uploaded "),e.qZA())}function F(u,O){if(1&u){const n=e.EpF();e.TgZ(0,"button",39),e.NdJ("click",function(){return e.CHM(n),e.oxw().uploadPictureOrVideos()}),e._UZ(1,"img",40),e._uU(2," Upload "),e.qZA()}if(2&u){const n=e.oxw();e.Q6J("disabled",0===n.photosOrVideos.value.length||n.disableUploadImgbtn)}}function R(u,O){if(1&u){const n=e.EpF();e.TgZ(0,"div",43)(1,"div",44)(2,"label",45),e._UZ(3,"img",46),e.TgZ(4,"div",47)(5,"img",48),e.NdJ("click",function(){const _=e.CHM(n).index;return e.oxw(2).clearImage(_)}),e.qZA()()()()()}if(2&u){const n=O.$implicit,o=O.index;let l;e.xp6(1),e.Q6J("formGroupName",o),e.xp6(2),e.Q6J("src",null==(l=n.get("url"))?null:l.value,e.LSH)}}function w(u,O){if(1&u&&(e.TgZ(0,"div",41),e.YNc(1,R,6,2,"div",42),e.qZA()),2&u){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",null==n.photosOrVideos?null:n.photosOrVideos.controls)}}function B(u,O){1&u&&(e.TgZ(0,"mat-error"),e._uU(1," Need Request for CSR required "),e.qZA())}function L(u,O){if(1&u){const n=e.EpF();e.TgZ(0,"button",39),e.NdJ("click",function(){return e.CHM(n),e.oxw().submitFeedback()}),e._uU(1," Add "),e.qZA()}if(2&u){const n=e.oxw();e.Q6J("disabled",n.feedbackForm.invalid||n.disableBtn)}}function N(u,O){if(1&u){const n=e.EpF();e.TgZ(0,"button",39),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).submitFeedback()}),e._uU(1," Update "),e.qZA()}if(2&u){const n=e.oxw(2);e.Q6J("disabled",n.feedbackForm.invalid||n.disableBtn)}}function V(u,O){if(1&u&&e.YNc(0,N,2,1,"button",27),2&u){const n=e.oxw();e.Q6J("ngIf",n.isEdit&&n.isImageUploaded)}}let J=(()=>{class u{constructor(n,o,l,_,g,T,y,x,U){this.toastr=n,this.sanitizer=o,this.communicationService=l,this.fb=_,this.apiService=g,this._overlaySidePanelService=T,this.storageService=y,this.dialog=x,this.loaderService=U,this.disableUploadImgbtn=!1,this.allowedFileExtensions=["jpg","svg","jpeg","png","wav","mp3","mp4","gif","mov","avi"],this.limit=5,this.isEdit=!1,this.uplodedImages=[],this.isImageUploaded=!1,this.disableBtn=!1,this.role=this.storageService.getData("Role")}ngOnInit(){this.activityDetails=this.apiService.feedbackAddData,this.isEdit=!!this.apiService.isfeedbackEdit,this.feedbackForm=this.initializeFromGroup(),this.isEdit&&this.getImagesOrVideos(this.activityDetails.images),this.sidePanelCloseSubscription=this.apiService.sidePanelClose$.subscribe(n=>{n&&this.apiService.currentRouteUrl.includes("/activity/activity-detail")&&(this.apiService.isfeedbackEdit=!1)})}ngOnDestroy(){this.sidePanelCloseSubscription&&this.sidePanelCloseSubscription.unsubscribe()}get roleEnum(){return p.G}submitFeedback(){this.feedbackForm.markAllAsTouched(),this.disableBtn=!0;const n=JSON.parse(this.storageService.getData("sub-info"));let o=this.activityDetails.timeRequired.toString().trim().split("Hours"),l=this.activityDetails.timeRequired.split("minutes").filter(Boolean).toString().split("Hours").pop(),_=`${o[0].trim()} Hours ${l.trim()} minutes`;if(this.activityDetails.timeRequired=_,this.isEdit&&this.photosOrVideos.value.map(g=>{g.file.imageName&&this.uplodedImages.push(g.file.imageName)}),0!=this.uplodedImages.length)if(this.feedbackForm.valid&&this.uplodedImages.length>0){const g=`${m.J.activityDetailsFeedbackUrl()}`;delete this.activityDetails.images,delete this.activityDetails.employeeIds,delete this.activityDetails.fullName,delete this.activityDetails.createdDate,delete this.activityDetails.publishOrUnPublish,delete this.activityDetails.uploadedByAdmin;const T=Object.assign(Object.assign({},this.activityDetails),{employeeId:n.employeecode,feedback:this.feedbackForm.controls.feedback.value,rating:this.feedbackForm.controls.rating.value,imageNames:this.uplodedImages,manualUpload:this.role!==this.roleEnum.EMPLOYEE});this.isEdit&&(T.feedbackId=this.activityDetails.feedbackId),this.apiService.post(T,g).subscribe(y=>{y&&(this.isEdit?(this._overlaySidePanelService.close(),this.apiService.feedbackPanelClose$.next({status:!0,type:"Edit"})):(this._overlaySidePanelService.close(),this.apiService.feedbackPanelClose$.next({status:!0,type:"Add"})))},y=>{var x,U;this.disableBtn=!1,this.toastr.error((null===(x=null==y?void 0:y.error)||void 0===x?void 0:x.message)?null===(U=null==y?void 0:y.error)||void 0===U?void 0:U.message:"")})}else this.disableBtn=!1,0==this.uplodedImages.length?this.toastr.info("Please upload image before create feedback"):this.toastr.warning("Please fill the required fields");else this.toastr.info("Please upload image before create feedback")}get photosOrVideos(){return this.feedbackForm.get("images")}createItem(n){return this.fb.group({file:[n.file],url:[n.url],isUploaded:[n.uploaded]})}initializeFromGroup(){return this.fb.group({rating:[this.isEdit?this.activityDetails.rating:null,[i.kI.required]],feedback:[this.isEdit?this.activityDetails.feedback:""],images:this.fb.array([],[i.kI.required])})}filesDropped(n){if(n.dataTransfer.files.length){for(let o=0;o<n.dataTransfer.files.length;o++){const l=n.dataTransfer.files[o];if(this.fileInputValidation(l)){this.disableUploadImgbtn=!1;const _=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(l));this.photosOrVideos.push(this.createItem({file:l,url:_,uploaded:!1}))}if(n.dataTransfer.files.length-1==o)return this.fileInput.nativeElement.value="",this.isImageUploaded=!1,!0}return!0}return!1}clearImage(n){try{this.disableUploadImgbtn=!1;let o=this.photosOrVideos.value[n];(o.file.imageName||o.file.name)&&o.isUploaded&&this.removeImageFromServer(o.file,"normal"),this.photosOrVideos.removeAt(n),this.photosOrVideos.value.length>0&&this.photosOrVideos.value.every(l=>l.isUploaded)?this.isImageUploaded=!0:0==this.photosOrVideos.value.length?(this.isImageUploaded=!1,this.disableUploadImgbtn=!0):this.isImageUploaded=!1}catch(o){}}removeImageFromServer(n,o){let _=[{imageName:n.name?n.name:n.imageName,imageType:"EMPLOYEE_UPLOAD",activityId:this.activityDetails.activityId,softDelete:!1}];const g={headers:new t.WM({"Content-Type":"application/json"}),body:_};this.communicationService.delete(m.J.imagesUrl(),g).subscribe(T=>{T&&"normal"==o&&this.toastr.success("Image removed successfully")})}fileInputValidation(n){try{return this.photosOrVideos.value.length>this.limit-1?(this.toastr.info("Max allowed no of files is 5"),this.fileInput.nativeElement.value="",!1):n.size>5242880?(this.toastr.info("Maximum allowed file size is 5mb"),!1):this.photosOrVideos.value.find(l=>l.file.name?-1!==l.file.name.indexOf(n.name):-1!==l.file.imageName.indexOf(n.name))?(this.toastr.info("Duplicate file name"),this.fileInput.nativeElement.value="",!1):this.validateImageOrVideoExtensions(n)}catch(l){}return!0}validateImageOrVideoExtensions(n){try{var l=n.name;if(!(l.length>0))return!1;for(var _=!1,g=0;g<this.allowedFileExtensions.length;g++){var T=this.allowedFileExtensions[g];if(l.substr(l.lastIndexOf(".")+1).toLowerCase()==T.toLowerCase()){_=!0;break}}if(!_)return this.toastr.warning("Sorry, "+l+" is invalid, allowed extensions are: "+this.allowedFileExtensions.join(", ")),!1}catch(y){}return!0}uploadPictureOrVideos(){try{var n=new FormData;this.disableUploadImgbtn=!0;for(const[o,l]of this.photosOrVideos.value.entries())!l.file.imageName&&!l.isUploaded&&(n.append("images",l.file),this.photosOrVideos.at(o).patchValue(Object.assign(Object.assign({},l),{isUploaded:!0})));n.append("imageType","EMPLOYEE_UPLOAD"),n.append("activityName",this.activityDetails.activityId),n.append("activityTheme",this.activityDetails.themeName),n.append("activityTag",this.activityDetails.tagName),n.append("startDate",this.activityDetails.startDate),n.append("endDate",this.activityDetails.endDate),n.append("activityLocation",this.activityDetails.location),n.append("mode",this.activityDetails.mode),n.append("manualUpload",this.role===this.roleEnum.EMPLOYEE?"false":"true"),this.uploadImages(n).then(o=>{})}catch(o){}}uploadImages(n){this.uplodedImages=[];const o={headers:new t.WM({"Content-Type":"undefined"})};return new Promise((l,_)=>{n?this.communicationService.post(m.J.uploadImagesUrl(),n,o,!0).subscribe({next:g=>{this.toastr.success(g.message),this.uplodedImages=g.data,this.isImageUploaded=!0,l(g)},error:g=>{this.disableUploadImgbtn=!1,this.toastr.error(g.error.message),this.isImageUploaded=!1,_(g)},complete:()=>{}}):l([])})}onFileSelection(n){const o=n.target.files;if(o.length>0){this.disableUploadImgbtn=!1;for(var l=0;l<o.length;l++){const _=o[l];if(this.fileInputValidation(_)){const g=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(_));this.photosOrVideos.push(this.createItem({file:_,url:g,uploaded:!1}))}if(o.length-1==l)return this.fileInput.nativeElement.value="",this.isImageUploaded=!1,!0}return!0}return!1}getImagesOrVideos(n){if(this.disableUploadImgbtn=!0,n&&n.length){this.isImageUploaded=!0;for(var o=0;o<n.length;o++){const l=n[o];this.photosOrVideos.push(this.createItem({file:l,url:l.imageUrl,uploaded:!0}))}}}onCancelClick(){if(this.photosOrVideos.value.length>0&&this.isImageUploaded){this.loaderService.start();for(const[n,o]of this.photosOrVideos.value.entries())this.removeImageFromServer(o.file,"cancel"),this.photosOrVideos.value.length-1==n&&(this.apiService.isfeedbackEdit=!1,this._overlaySidePanelService.close(),this.loaderService.stop())}else this.apiService.isfeedbackEdit=!1,this._overlaySidePanelService.close()}}return u.\u0275fac=function(n){return new(n||u)(e.Y36(r._W),e.Y36(s.H7),e.Y36(d.O),e.Y36(i.qu),e.Y36(c.s),e.Y36(C.Q),e.Y36(M.C),e.Y36(P.uw),e.Y36(D.P))},u.\u0275cmp=e.Xpm({type:u,selectors:[["app-add-feedback"]],viewQuery:function(n,o){if(1&n&&e.Gf(S,5),2&n){let l;e.iGM(l=e.CRH())&&(o.fileInput=l.first)}},decls:55,vars:8,consts:[[1,"cont-inner","feedback",3,"formGroup"],[1,"rating","mt-3","pb-3"],[1,"m-0"],[1,"rating-wrapper"],["formControlName","rating"],[4,"ngIf"],[1,"row"],[1,"col-12","col-md-6","pt-3"],[1,"mb-2"],[1,"item-wrapper","one"],[1,"item"],[1,"item-inner"],[1,"item-content"],["appDrag","",1,"image-upload",3,"drop"],["for","file_upload",2,"cursor","pointer"],[1,"h-100"],[1,"dplay-tbl"],[1,"dplay-tbl-cell"],["src","assets/images/upload-icon.svg","alt","upload"],[1,"m-0","text-start"],["type","file","id","file_upload","multiple","","data-traget-resolution","image_resolution","value","","accept",".jpg,.jpeg,.bmp,.png,.wav,.mp3,.mp4,.avi,.mov",1,"image-input",3,"change"],["fileInput",""],[1,"col-12","col-md-6","selected-img","mt-4"],[1,"row","pt-3"],[1,"d-flex","justify-content-between","align-items-center"],[1,"m-0","pointer",3,"click"],["class","btn btn-uploaded",4,"ngIf"],["class","btn btn-red",3,"disabled","click",4,"ngIf"],["class","choose-img mt-3 flbx-vac",4,"ngIf"],[1,"mt-2"],[1,"m-0","pointer"],["appearance","outline"],["matInput","","placeholder","write here ...","formControlName","feedback"],[1,"footer-btn"],[1,"btn","btn-light-1",3,"click"],["class","btn btn-red",3,"disabled","click",4,"ngIf","ngIfElse"],["updatebtn",""],[1,"btn","btn-uploaded"],["src","assets\\images\\check-bt.svg"],[1,"btn","btn-red",3,"disabled","click"],["src","assets/images/publish_red.svg"],[1,"choose-img","mt-3","flbx-vac"],["class","answers","formArrayName","images","data-toggle","modal","data-target","#exampleModal",4,"ngFor","ngForOf"],["formArrayName","images","data-toggle","modal","data-target","#exampleModal",1,"answers"],[3,"formGroupName"],[1,"answer"],[1,"preview_img",3,"src"],[1,"close"],["src","assets/images/close.svg",3,"click"]],template:function(n,o){if(1&n){const l=e.EpF();e.TgZ(0,"div",0)(1,"p"),e._uU(2," Image being uploaded by employee stating it will be used by AP for EVP and other promotional things in EVP. "),e.qZA(),e.TgZ(3,"div",1)(4,"h3",2),e._uU(5,"How would you rate the activity? *"),e.qZA(),e.TgZ(6,"div",3),e._UZ(7,"app-star-rating",4),e.YNc(8,k,2,0,"mat-error",5),e.qZA()(),e._UZ(9,"hr"),e.TgZ(10,"div",6)(11,"div",7)(12,"label",8),e._uU(13,"Upload Picture *"),e.qZA(),e.TgZ(14,"div",9)(15,"div",10)(16,"div",11)(17,"div",12)(18,"div",13),e.NdJ("drop",function(g){return o.filesDropped(g)}),e.TgZ(19,"label",14)(20,"div",15)(21,"div",16)(22,"div",17),e._UZ(23,"img",18),e.TgZ(24,"div")(25,"h3",19),e._uU(26," Drag and drop file here "),e.qZA(),e.TgZ(27,"p",19),e._uU(28,"Or"),e.qZA(),e.TgZ(29,"h2",19),e._uU(30,"Browse file"),e.qZA()()()()(),e.TgZ(31,"input",20,21),e.NdJ("change",function(g){return o.onFileSelection(g)}),e.qZA()()()()()()()(),e._UZ(33,"div",22),e.TgZ(34,"div",23)(35,"div",24)(36,"h4",25),e.NdJ("click",function(){return e.CHM(l),e.MAs(32).click()}),e._uU(37," + Add more photos "),e.qZA(),e.YNc(38,Z,3,0,"button",26),e.YNc(39,F,3,1,"button",27),e.qZA(),e.YNc(40,w,2,1,"div",28),e.TgZ(41,"p",29),e._uU(42,"* Image file size limit is 5MB"),e.qZA()(),e.TgZ(43,"h4",30),e._uU(44,"Describe your experience / Feedback"),e.qZA(),e.TgZ(45,"section")(46,"mat-form-field",31),e._UZ(47,"textarea",32),e.YNc(48,B,2,0,"mat-error",5),e.qZA()()()(),e.TgZ(49,"div",33)(50,"button",34),e.NdJ("click",function(){return o.onCancelClick()}),e._uU(51,"Cancel"),e.qZA(),e.YNc(52,L,2,1,"button",35),e.YNc(53,V,1,1,"ng-template",null,36,e.W1O),e.qZA()}if(2&n){const l=e.MAs(54);let _,g;e.Q6J("formGroup",o.feedbackForm),e.xp6(8),e.Q6J("ngIf",(null==(_=o.feedbackForm.get("rating"))?null:_.invalid)&&((null==(_=o.feedbackForm.get("rating"))?null:_.dirty)||(null==(_=o.feedbackForm.get("rating"))?null:_.touched))),e.xp6(30),e.Q6J("ngIf",o.isImageUploaded),e.xp6(1),e.Q6J("ngIf",!o.isImageUploaded),e.xp6(1),e.Q6J("ngIf",o.photosOrVideos.value.length),e.xp6(8),e.Q6J("ngIf",(null==(g=o.feedbackForm.get("feedback"))?null:g.invalid)&&((null==(g=o.feedbackForm.get("feedback"))?null:g.dirty)||(null==(g=o.feedbackForm.get("feedback"))?null:g.touched))),e.xp6(4),e.Q6J("ngIf",!o.isEdit&&o.feedbackForm.valid&&o.isImageUploaded)("ngIfElse",l)}},directives:[i.JL,i.sg,b.T,i.JJ,i.u,A.O5,h.TO,v.w,A.sg,i.CE,i.x0,h.KE,E.Nt,i.Fj],styles:[".preview_img[_ngcontent-%COMP%]{height:130px;object-fit:cover}.answers[_ngcontent-%COMP%]{position:relative;width:18%}.answer[_ngcontent-%COMP%]{width:100%}.answer[_ngcontent-%COMP%]   .preview_img[_ngcontent-%COMP%]{max-width:100%;border-radius:5px;width:100%;object-fit:cover;height:100px}.close[_ngcontent-%COMP%]{position:absolute;top:-11px;right:-6px}textarea[_ngcontent-%COMP%]{height:100px}"]}),u})()},7925:(I,f,a)=>{a.d(f,{F:()=>m});var t=a(5e3),i=a(8966);let m=(()=>{class p{constructor(r){this.dialogRef=r}continue(){this.dialogRef.close(!0)}}return p.\u0275fac=function(r){return new(r||p)(t.Y36(i.so))},p.\u0275cmp=t.Xpm({type:p,selectors:[["app-confirm-participation-success"]],decls:12,vars:0,consts:[[1,"enroll-sucess"],[1,"check-icon"],[1,"icon"],["src","assets/images/check.svg"],["type","button",1,"btn","btn-continue",3,"click"]],template:function(r,s){1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"img",3),t.qZA()(),t.TgZ(4,"h2"),t._uU(5,"Success !"),t.qZA(),t.TgZ(6,"p"),t._uU(7,"Your participation is "),t._UZ(8,"br"),t._uU(9,"recorded successfully."),t.qZA(),t.TgZ(10,"button",4),t.NdJ("click",function(){return s.continue()}),t._uU(11," Continue "),t.qZA()())},styles:[".enroll-sucess[_ngcontent-%COMP%]{text-align:center;position:relative;padding:20px}.enroll-sucess[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#78ae38;font-size:22px;font-weight:500}.enroll-sucess[_ngcontent-%COMP%]   .btn-continue[_ngcontent-%COMP%]{border:1px solid #78ae38;border-radius:4px;background:#78ae3838 0% 0% no-repeat padding-box;color:#78ae38;font-size:14px;margin-top:15px}.enroll-sucess[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:#a5a5a5}.enroll-sucess[_ngcontent-%COMP%]   .check-icon[_ngcontent-%COMP%]{position:fixed;left:50%;top:-35px;transform:translate(-50%)}.enroll-sucess[_ngcontent-%COMP%]   .check-icon[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:66px;height:66px;background-color:#78ae38;border-radius:50%}.enroll-sucess[_ngcontent-%COMP%]   .check-icon[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:36px;height:26px}"]}),p})()},1821:(I,f,a)=>{a.d(f,{z:()=>m});var t=a(8966),i=a(5e3);let m=(()=>{class p{constructor(r,s){this.dialogRef=r,this.data=s}confirm(){this.dialogRef.close(!0)}close(){this.dialogRef.close(!1)}}return p.\u0275fac=function(r){return new(r||p)(i.Y36(t.so),i.Y36(t.WI))},p.\u0275cmp=i.Xpm({type:p,selectors:[["app-confirmation-dialog"]],decls:12,vars:2,consts:[[1,"closed__wrapper"],[1,"notification__head"],[1,"notification__delete","chat__element"],[1,"heading"],[1,"closed__heading"],[1,"notification__container"],[1,"btn","btn-grey",3,"click"],[1,"btn","btn-red",3,"click"]],template:function(r,s){1&r&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),i._uU(4),i.qZA(),i.TgZ(5,"h3",4),i._uU(6),i.qZA()()(),i.TgZ(7,"div",5)(8,"button",6),i.NdJ("click",function(){return s.close()}),i._uU(9,"Cancel"),i.qZA(),i.TgZ(10,"button",7),i.NdJ("click",function(){return s.confirm()}),i._uU(11,"Yes"),i.qZA()()()),2&r&&(i.xp6(4),i.Oqu(null==s.data?null:s.data.heading),i.xp6(2),i.Oqu(null==s.data?null:s.data.message))},styles:[""]}),p})()},8195:(I,f,a)=>{a.d(f,{E:()=>m});var t=a(8966),i=a(5e3);let m=(()=>{class p{constructor(r,s){this.dialogRef=r,this.data=s,this.url1=s.url}close(){this.dialogRef.close(!1)}}return p.\u0275fac=function(r){return new(r||p)(i.Y36(t.so),i.Y36(t.WI))},p.\u0275cmp=i.Xpm({type:p,selectors:[["app-image-in-dialog"]],decls:4,vars:1,consts:[[1,"promotion-popup"],["alt","",3,"src"],["mat-dialog-close","",1,"close"],["src","assets/images/close-btn.svg"]],template:function(r,s){1&r&&(i.TgZ(0,"div",0),i._UZ(1,"img",1),i.TgZ(2,"div",2),i._UZ(3,"img",3),i.qZA()()),2&r&&(i.xp6(1),i.Q6J("src",s.url1,i.LSH))},directives:[t.ZT],styles:[".promotion-popup[_ngcontent-%COMP%]{position:relative}.promotion-popup[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:95vh}.promotion-popup[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:absolute;right:10px;top:10px}.promotion-popup[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}[_nghost-%COMP%]     .mat-dialog-container{padding:0!important}"]}),p})()},2279:(I,f,a)=>{a.d(f,{L:()=>D});var t=a(5e3),i=a(7579),m=a(2722),p=(()=>{return(b=p||(p={})).TRANSPARENT="overlay-style-transparent",b.DIM_DARK="overlay-style-dim-dark",b.DIM_LIGHT="overlay-style-dim-light",p;var b})(),e=a(1777);const r=(0,e.X$)("fadeInOut",[(0,e.eR)(":enter",[(0,e.oB)({opacity:0}),(0,e.jt)("0.1s",(0,e.oB)({opacity:1}))]),(0,e.eR)(":leave",[(0,e.oB)({opacity:1}),(0,e.jt)("0.1s",(0,e.oB)({opacity:0}))])]);var s=a(1617),d=a(5384),c=a(9808);const C=["content"];function M(b,A){if(1&b){const h=t.EpF();t.TgZ(0,"div",8),t.NdJ("click",function(){return t.CHM(h),t.oxw().close()}),t.qZA()}if(2&b){const h=t.oxw();t.Q6J("ngClass",h.overlayStyle)("@fadeInOut",void 0)}}const P=function(b){return{width:b}};let D=(()=>{class b{constructor(h,v){this._overlaySidePanelService=h,this.apiService=v,this._sidePanelServiceSubject$=new i.x,this.overlayStyle=p.DIM_DARK}ngOnInit(){this._overlaySidePanelService.onPanelVibilityChange().pipe((0,m.R)(this._sidePanelServiceSubject$)).subscribe(h=>{this.isPanelVisible=h}),this._overlaySidePanelService.onContentChange().pipe((0,m.R)(this._sidePanelServiceSubject$)).subscribe(h=>{this._setPanelContent(h)})}close(){this.apiService.sidePanelClose$.next(!0),this._overlaySidePanelService.close()}_setPanelContent(h){var v,E;null===(v=this.panelContentRef)||void 0===v||v.clear(),null===(E=this.panelContentRef)||void 0===E||E.createComponent(h)}ngOnDestroy(){this._sidePanelServiceSubject$.next(),this._sidePanelServiceSubject$.complete()}}return b.\u0275fac=function(h){return new(h||b)(t.Y36(s.Q),t.Y36(d.s))},b.\u0275cmp=t.Xpm({type:b,selectors:[["app-overlay-side-panel"]],viewQuery:function(h,v){if(1&h&&t.Gf(C,5,t.s_b),2&h){let E;t.iGM(E=t.CRH())&&(v.panelContentRef=E.first)}},inputs:{overlayStyle:"overlayStyle",overlayData:"overlayData"},decls:12,vars:7,consts:[[1,"overlay-side-panel"],["class","overlay",3,"ngClass","click",4,"ngIf"],[1,"side-panel",3,"ngStyle"],[1,"d-flex","justify-content-between","side-panel-header","align-items-center"],[1,"close"],[3,"click"],[1,"content"],["content",""],[1,"overlay",3,"ngClass","click"]],template:function(h,v){1&h&&(t.TgZ(0,"div",0),t.YNc(1,M,1,2,"div",1),t.TgZ(2,"div",2)(3,"div",3)(4,"h2"),t._uU(5),t.qZA(),t.TgZ(6,"div",4)(7,"span",5),t.NdJ("click",function(){return v.close()}),t._uU(8,"\xd7"),t.qZA()()(),t.TgZ(9,"div",6),t.GkF(10,null,7),t.qZA()()()),2&h&&(t.ekj("collapsed",!v.isPanelVisible),t.xp6(1),t.Q6J("ngIf",v.isPanelVisible),t.xp6(1),t.Q6J("ngStyle",t.VKq(5,P,(null==v.overlayData?null:v.overlayData.width)+"px")),t.xp6(3),t.Oqu(null==v.overlayData?null:v.overlayData.label))},directives:[c.O5,c.mk,c.PC],styles:['[_ngcontent-%COMP%]:root{--bg-primary: #f6f8fc;--prime-color: #735A8F;--color-white: #ffffff;--color-black: #000000;--border-color: #e3e6e9;--color-warning: 255, 187, 0;--prime-yellow: #feba12;--tag-warning: 255, 188, 84;--header-bg: 107, 107, 107;--head-font-sec: #35526d;--bg-chat: #E6FFF6;--bg-decline: #F5F5F5;--color-available: rgb(68, 161, 7);--sec-bg-1: #fcfcfd;--sec-bg-2: #e2f6f3;--sec-bg-3: #fff1e9;--tag-bg-1: 255, 221, 0;--tag-bg-2: 255, 165, 240;--tag-bg-3: 0, 162, 138;--tag-bg-4: 171, 83, 219;--btn-add-bg: 194, 231, 255;--btn-add-bg: 254, 186, 18;--btn-bg-add: #c2e7ff;--border-radious: 6px;--color-primary: 48, 33, 82;--element-shadow: 0 1px 2px rgba(#000000, .2);--escalated: 255, 0, 0;--escalated-bg: 254, 186, 18;--missed: 255, 187, 0;--closed: 68, 161, 0;--prime-blue: 29, 164, 255;--color-prime-font: 112, 112, 112;--color-bg: #fff;--border-round: 6px;--window-width: 468px;--prime-white: #f8f8f8;--chatbody-color: #FBFBFB;--outer-shadow: 0 4px 12px 0 rgb(0 0 0 / 10%), 0 0 1px 0 rgb(0 0 0 / 5%);--color-bg: #EFEFEF;--color-prime-green: #07B20D;--color-prime-dark: #020202;--color-closed: #6AB553;--color-bg-white: #fff;--color-bg-red: #FF2C2C;--color-white-font: #ffffff;--color-dark: #707070;--color-yellow: #feba12;--color-border-gray: #C7C7C7;--font-family: "Open Sans";--page-font-sixe-1: 16px;--page-font-sixe-2: 14px;--avatar-default: #AFAFAF;--avatar-bg1: 88, 205, 255;--avatar-bg2: 0, 162, 138;--avatar-bg3: #ffcc99;--avatar-bg4: #5FE1A8;--avatar-bg5: #E16BC1;--gmmco-prime-yellow: #feba12;--gmmco-prime-black: #000000;--gmmco-prime-red: #e92327;--intromsg-bg: #647cf9;--purple:#735A8F;--activechat-bg: --gmmco-prime-yellow;--activechat-border: #6AB553}.overlay-side-panel[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;right:0;z-index:100}.overlay-side-panel[_ngcontent-%COMP%]   .overlay.overlay-style-transparent[_ngcontent-%COMP%]{background:transparent}.overlay-side-panel[_ngcontent-%COMP%]   .overlay.overlay-style-dim-dark[_ngcontent-%COMP%]{background:rgba(0,0,0,.3)}.overlay-side-panel[_ngcontent-%COMP%]   .overlay.overlay-style-dim-light[_ngcontent-%COMP%]{background:rgba(255,255,255,.5)}.overlay-side-panel[_ngcontent-%COMP%]   .side-panel[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;right:0;margin-right:0;background:var(--sec-bg-1);overflow-y:auto;transition:margin-right .3s;z-index:1000;box-shadow:0 4px 8px #0003;-webkit-box-shadow:0 4px 8px 0 rgba(0,0,0,.2);-moz-box-shadow:0 4px 8px 0 rgba(0,0,0,.2)}.overlay-side-panel[_ngcontent-%COMP%]   .side-panel[_ngcontent-%COMP%]   .side-panel-header[_ngcontent-%COMP%]{border-bottom:1px solid #dee2e6;padding:15px 25px}.overlay-side-panel[_ngcontent-%COMP%]   .side-panel[_ngcontent-%COMP%]   .side-panel-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0}.overlay-side-panel[_ngcontent-%COMP%]   .side-panel[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:sticky;top:0;z-index:2;line-height:1rem;font-size:1.5rem;font-weight:700}.overlay-side-panel[_ngcontent-%COMP%]   .side-panel[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;color:#000;background:#e5e5e5;padding:0 10px;border-radius:10px}.overlay-side-panel[_ngcontent-%COMP%]   .side-panel[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{color:#292929}.overlay-side-panel.collapsed[_ngcontent-%COMP%]   .side-panel[_ngcontent-%COMP%]{margin-right:-950px}@media screen and (max-width: 768px){.overlay-side-panel[_ngcontent-%COMP%]   .side-panel[_ngcontent-%COMP%]{width:100%!important}}'],data:{animation:[r]}}),b})()},3556:(I,f,a)=>{a.d(f,{Q:()=>p});var t=a(5e3),i=a(6640),m=a(3585);let p=(()=>{class e{constructor(s){this.pagerService=s,this.pageChange=new t.vpe,this.pager={}}ngOnInit(){this.pager=this.pagerService.getPager(this.totalItems,this.page,this.pageSize)}ngOnChanges(s){s.totalItems&&(this.totalItems=s.totalItems.currentValue,this.pager=this.pagerService.getPager(this.totalItems,this.page,this.pageSize)),s.page&&(this.page=s.page.currentValue,this.pager=this.pagerService.getPager(this.totalItems,this.page,this.pageSize)),s.pageSize&&(this.pageSize=s.pageSize.currentValue,this.pager=this.pagerService.getPager(this.totalItems,this.page,this.pageSize))}setPage(s){this.pager=this.pagerService.getPager(this.totalItems,s,this.pageSize),this.pageChange.emit({pager:this.pager})}}return e.\u0275fac=function(s){return new(s||e)(t.Y36(i.e))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-pagination"]],inputs:{page:"page",pageSize:"pageSize",totalItems:"totalItems"},outputs:{pageChange:"pageChange"},features:[t.TTD],decls:2,vars:7,consts:[[1,"pagination","justify-content-end"],[3,"collectionSize","page","pageSize","maxSize","rotate","ellipses","boundaryLinks","pageChange"]],template:function(s,d){1&s&&(t.TgZ(0,"div",0)(1,"ngb-pagination",1),t.NdJ("pageChange",function(C){return d.pager.currentPage=C})("pageChange",function(C){return d.setPage(C)}),t.qZA()()),2&s&&(t.xp6(1),t.Q6J("collectionSize",d.totalItems)("page",d.pager.currentPage)("pageSize",d.pager.pageSize)("maxSize",3)("rotate",!0)("ellipses",!0)("boundaryLinks",!0))},directives:[m.N9],styles:[""]}),e})()},8882:(I,f,a)=>{a.d(f,{u:()=>e});var t=a(9808),i=a(7777),m=a(3585),p=a(5e3);let e=(()=>{class r{}return r.\u0275fac=function(d){return new(d||r)},r.\u0275mod=p.oAB({type:r}),r.\u0275inj=p.cJS({imports:[[t.ez,i.m,m.jF]]}),r})()},3392:(I,f,a)=>{a.d(f,{T:()=>r});var t=a(5e3),m=a(3075),p=a(9808);function e(s,d){if(1&s){const c=t.EpF();t.ynx(0),t.O4$(),t.TgZ(1,"svg",2),t.NdJ("click",function(){const P=t.CHM(c).$implicit;return t.oxw().setRating(P)}),t._UZ(2,"path",3),t.qZA(),t.BQk()}}let r=(()=>{class s extends class i{constructor(){this.disabled=!1}onChange(d){}onTouched(d){}writeValue(d){this.value=d}registerOnChange(d){this.onChange=d}registerOnTouched(d){this.onTouched=d}setDisabledState(d){this.disabled=d}}{constructor(c,C,M){super(),this.fb=c,this.eRef=C,this.renderer=M,this.stars=[0,1,2,3,4]}writeValue(c){this.value=c,super.writeValue(this.value)}setRating(c){if(this.disabled)return;this.value=c+1,this.onChange(this.value),this.onTouched();const M=this.eRef.nativeElement.querySelectorAll("svg.star");for(let P=0,D=M.length;P<D;P++)P<=c?this.renderer.addClass(M[P],"active"):this.renderer.removeClass(M[P],"active")}ngAfterViewInit(){if(null!==this.value){let c=this.value;this.setRating(--c)}}}return s.\u0275fac=function(c){return new(c||s)(t.Y36(m.qu),t.Y36(t.SBq),t.Y36(t.Qsj))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-star-rating"]],inputs:{stars:"stars",messages:"messages",label:"label",value:"value"},features:[t._Bn([{provide:m.JU,useExisting:(0,t.Gpc)(()=>s),multi:!0}]),t.qOj],decls:2,vars:1,consts:[[1,"stars"],[4,"ngFor","ngForOf"],["width","255","height","240","viewBox","0 0 51 48",1,"star",3,"click"],["d","m25,1 6,17h18l-14,11 5,17-15-10-15,10 5-17-14-11h18z"]],template:function(c,C){1&c&&(t.TgZ(0,"div",0),t.YNc(1,e,3,0,"ng-container",1),t.qZA()),2&c&&(t.xp6(1),t.Q6J("ngForOf",C.stars))},directives:[p.sg],styles:["[_nghost-%COMP%]{width:100%}.stars[_ngcontent-%COMP%]{flex:0 0 50%}.star__label[_ngcontent-%COMP%]{flex:0 0 50%;margin:0}.star__rating__info[_ngcontent-%COMP%]{flex:100%;min-height:30px}.star[_ngcontent-%COMP%]{cursor:pointer;width:30px;height:auto;fill:#fff;stroke:#ccc;transform:scale(.8);transition:transform .2s ease-in-out}.star[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{transition:fill .2s ease-in-out,stroke .1s ease-in-out}.active[_ngcontent-%COMP%]{fill:#f6e22a;stroke:#e3ce0a}*[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap}"]}),s})()},7630:(I,f,a)=>{a.d(f,{f:()=>p});var t=a(9808),i=a(7777),m=a(5e3);let p=(()=>{class e{}return e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=m.oAB({type:e}),e.\u0275inj=m.cJS({imports:[[t.ez,i.m]]}),e})()}}]);