"use strict";(self.webpackChunkEVP=self.webpackChunkEVP||[]).push([[835],{4835:(Vt,O,p)=>{p.r(O),p.d(O,{LandingPageConfigModule:()=>Mt});var u=p(9808),q=p(1083),C=p(520),c=p(3075),d=p(8966),_=p(8561),e=p(5e3),b=p(2313),h=p(4383),x=p(7603),f=p(5384),w=p(8504),g=p(7322),T=p(8833);const I=["fileInput"];function U(i,a){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," Please select any image file of format .jpg, .jpeg, .bmp, .png, .svg, .gif, .jfif, .pjpeg, pjp "),e.qZA())}function P(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",29)(1,"div",30)(2,"label",31),e._UZ(3,"img",32),e.TgZ(4,"div",33)(5,"img",34),e.NdJ("click",function(){const r=e.CHM(t).index;return e.oxw(2).clearImage(r)}),e.qZA()()()()()}if(2&i){const t=a.$implicit,n=a.index;let o;e.xp6(1),e.Q6J("formGroupName",n),e.xp6(2),e.Q6J("src",null==(o=t.get("url"))?null:o.value,e.LSH)}}function S(i,a){if(1&i&&(e.TgZ(0,"div",27),e.YNc(1,P,6,2,"div",28),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",null==t.photos?null:t.photos.controls)}}function L(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1," Please enter a valid number for the sequence. "),e.qZA())}function Y(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1," Sequence required "),e.qZA())}function J(i,a){if(1&i&&(e.TgZ(0,"mat-error"),e.YNc(1,L,2,0,"div",20),e.YNc(2,Y,2,0,"div",20),e.qZA()),2&i){const t=e.oxw();let n,o;e.xp6(1),e.Q6J("ngIf",null==(n=t.bannerPictureForm.get("index"))?null:n.hasError("notANumber")),e.xp6(1),e.Q6J("ngIf",null==(o=t.bannerPictureForm.get("index"))?null:o.hasError("required"))}}let k=(()=>{class i{constructor(t,n,o,r,l,s,m){this.dialogRef=t,this.data=n,this.fb=o,this.sanitizer=r,this.toastr=l,this.communicationService=s,this.apiService=m,this.limit=1,this.allowedFileExtensions=["jpg","svg","jpeg","png","gif","jfif","pjpeg","pjp"]}ngOnInit(){this.bannerPictureForm=this.initializeFromGroup()}initializeFromGroup(){return this.fb.group({image:this.fb.array([],[c.kI.required]),index:["",[c.kI.required,this.numberValidator]]})}numberValidator(t){return isNaN(Number(t.value))?{notANumber:!0}:null}get photos(){return this.bannerPictureForm.controls.image}createItem(t){return this.fb.group({file:[t.file],url:[t.url]})}onFileSelection(t){const n=t.target.files;if(n.length>0){for(var o=0;o<n.length;o++){const r=n[o];if(this.fileInputValidation(r)){const l=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(r));this.photos.push(this.createItem({file:r,url:l}))}n.length-1==o&&(this.fileInput.nativeElement.value="")}return!0}return!1}fileInputValidation(t){try{return this.photos.value.length>this.limit-1?(this.toastr.info("Max allowed files is 1"),this.fileInput.nativeElement.value="",!1):this.photos.value.find(o=>o.file.name?-1!==o.file.name.indexOf(t.name):-1!==o.file.imageName.indexOf(t.name))?(this.toastr.info("Duplicate file name"),this.fileInput.nativeElement.value="",!1):t.size>5242880?(this.toastr.info("Maximum allowed file size is 5mb"),!1):this.validateImageOrVideoExtensions(t)}catch(o){}return!0}validateImageOrVideoExtensions(t){try{var o=t.name;if(!(o.length>0))return!1;for(var r=!1,l=0;l<this.allowedFileExtensions.length;l++){var s=this.allowedFileExtensions[l];if(o.substr(o.lastIndexOf(".")+1).toLowerCase()==s.toLowerCase()){r=!0;break}}if(!r)return this.toastr.warning("Sorry, "+o+" is invalid, allowed extensions are: "+this.allowedFileExtensions.join(", ")),!1}catch(m){}return!0}clearImage(t){try{this.photos.removeAt(t)}catch(n){}}filesDropped(t){try{if(this.fileInputValidation(t.dataTransfer.files))for(let n=0;n<t.dataTransfer.files.length;n++){const o=t.dataTransfer.files[n],r=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(o));this.photos.push(this.createItem({file:o,url:r}))}}catch(n){}}onSave(){if(this.bannerPictureForm.valid){const t=new FormData;for(const[n,o]of this.photos.value.entries())t.append("images",o.file);t.append("index",this.bannerPictureForm.controls.index.value),this.callSaveToApi(t).then(n=>{})}else this.toastr.info("Please fill all the required fields")}callSaveToApi(t){const n={headers:new C.WM({"Content-Type":"undefined"})};return new Promise((o,r)=>{if(t){let l="";this.communicationService.post(_.P.uploadBannerImagesUrl(),t,n,!0).subscribe({next:s=>{l=s.message,o(s)},error:s=>{this.toastr.error(s.error.message),r(s)},complete:()=>{this.dialogRef.close({status:!0,type:"add",message:l}),this.apiService.adminDataChange$.next(!0)}})}else o([])})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.so),e.Y36(d.WI),e.Y36(c.qu),e.Y36(b.H7),e.Y36(h._W),e.Y36(x.O),e.Y36(f.s))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-create-banner"]],viewQuery:function(t,n){if(1&t&&e.Gf(I,5),2&t){let o;e.iGM(o=e.CRH())&&(n.fileInput=o.first)}},decls:43,vars:4,consts:[[1,"closed__wrapper"],[1,""],[1,"chat__element"],[1,"heading"],[3,"formGroup"],[1,"upload"],[1,"flbx-stretch","align-items-start"],[1,"item-wrapper","one"],[1,"item"],[1,"item-inner"],[1,"item-content"],["appDrag","",1,"image-upload",3,"drop"],["for","file_upload",2,"cursor","pointer"],[1,"h-100"],[1,"dplay-tbl"],[1,"dplay-tbl-cell"],["src","assets/images/upload-icon.svg","alt","upload"],[1,"m-0","text-start"],["type","file","id","file_upload","multiple","","data-traget-resolution","image_resolution","value","","accept",".jpg,.jpeg,.bmp,.png,.svg,.gif,.jfif,.pjpeg,pjp",1,"image-input",3,"change"],["fileInput",""],[4,"ngIf"],["class","choose-img mt-3 d-flex",4,"ngIf"],["appearance","outline"],["matInput","","placeholder","Enter the sequence","formControlName","index"],[1,"notification__container"],[1,"btn","btn-red",3,"click"],["mat-dialog-close","",1,"btn","btn-grey"],[1,"choose-img","mt-3","d-flex"],["class","answers","formArrayName","image",4,"ngFor","ngForOf"],["formArrayName","image",1,"answers"],[1,"flbx-vac",3,"formGroupName"],[1,"answer"],[1,"preview_img",3,"src"],[1,"close"],["src","assets/images/close.svg",3,"click"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),e._uU(4,"Add Banner"),e.qZA(),e.TgZ(5,"form",4)(6,"div",5)(7,"div",6)(8,"h3"),e._uU(9,"Upload Picture"),e.qZA()(),e.TgZ(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11),e.NdJ("drop",function(r){return n.filesDropped(r)}),e.TgZ(15,"label",12)(16,"div",13)(17,"div",14)(18,"div",15),e._UZ(19,"img",16),e.TgZ(20,"div")(21,"h3",17),e._uU(22," Drag and drop file here "),e.qZA(),e.TgZ(23,"p",17),e._uU(24,"Or"),e.qZA(),e.TgZ(25,"h2",17),e._uU(26,"Browse file"),e.qZA()()()()(),e.TgZ(27,"input",18,19),e.NdJ("change",function(r){return n.onFileSelection(r)}),e.qZA(),e.TgZ(29,"h5"),e._uU(30," Recomended resolution 1366x504 "),e.qZA(),e.YNc(31,U,2,0,"mat-error",20),e.qZA()()()()()(),e.YNc(32,S,2,1,"div",21),e.qZA(),e.TgZ(33,"mat-form-field",22)(34,"mat-label"),e._uU(35,"Sequence to be displayed"),e.qZA(),e._UZ(36,"input",23),e.YNc(37,J,3,2,"mat-error",20),e.qZA()()()(),e.TgZ(38,"div",24)(39,"button",25),e.NdJ("click",function(){return n.onSave()}),e._uU(40,"Save"),e.qZA(),e.TgZ(41,"button",26),e._uU(42,"Cancel"),e.qZA()()()),2&t){let o,r;e.xp6(5),e.Q6J("formGroup",n.bannerPictureForm),e.xp6(26),e.Q6J("ngIf",null==(o=n.bannerPictureForm.get("image"))||null==o.errors?null:o.errors.required),e.xp6(1),e.Q6J("ngIf",n.photos.value.length),e.xp6(5),e.Q6J("ngIf",(null==(r=n.bannerPictureForm.get("index"))?null:r.invalid)&&(null==(r=n.bannerPictureForm.get("index"))?null:r.touched))}},directives:[c._Y,c.JL,c.sg,w.w,u.O5,g.TO,u.sg,c.CE,c.x0,g.KE,g.hX,T.Nt,c.Fj,c.JJ,c.u,d.ZT],styles:[".close[_ngcontent-%COMP%]{position:absolute;top:0;right:0}.answer[_ngcontent-%COMP%]{position:relative;width:100%}.answer[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{max-width:100%;border-radius:5px;width:100%;object-fit:cover;height:100px}.preview_img[_ngcontent-%COMP%]{height:100px;object-fit:cover}.answers[_ngcontent-%COMP%]{width:18%;margin-right:10px}@media screen and (max-width: 767px){.answers[_ngcontent-%COMP%]{width:100%!important}}.answers[_ngcontent-%COMP%]   .flbx-vac[_ngcontent-%COMP%]{width:100%}.upload[_ngcontent-%COMP%]{padding:20px 0}form.ng-pristine[_ngcontent-%COMP%]{height:300px;overflow-y:scroll}"]}),i})();var Z=p(6842);function M(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7),e._UZ(4,"img",8),e.qZA(),e.TgZ(5,"h2"),e._uU(6),e.qZA()(),e.TgZ(7,"div",9)(8,"h2"),e._uU(9),e.qZA()(),e.TgZ(10,"div",10)(11,"a",11),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().deleteBanner(null==r?null:r.imageName)}),e.qZA()()()()}if(2&i){const t=a.$implicit;e.xp6(4),e.Q6J("src",null==t?null:t.bannerPictureLocation,e.LSH),e.xp6(2),e.Oqu(null==t?null:t.imageName),e.xp6(3),e.Oqu(null==t?null:t.index)}}let y=(()=>{class i{constructor(t,n,o){this.apiService=t,this.dialog=n,this.toastr=o}ngOnInit(){this.apiService.adminSideNavChanged$.subscribe(t=>{(null==t?void 0:t.status)&&"bannersImage"==(null==t?void 0:t.type)&&(this.bannerData=t.bannerImages)})}createBanner(){this.dialog.open(k,{width:"670px",data:{}}).afterClosed().subscribe(n=>{(null==n?void 0:n.status)&&this.toastr.success(null==n?void 0:n.message)})}removeImagesFromApi(t){this.dialog.open(Z.p,{width:"470px",data:{heading:"Delete Image?",message:"Are you sure you want to delete the image?"}}).afterClosed().subscribe(o=>{if(o){const r=`${_.P.deleteBannerImages()}?imageName=${t.toString()}`;this.apiService.delete({},r).subscribe(()=>{this.apiService.adminDataChange$.next(!0),this.toastr.success("Image deleted Successfully")})}})}deleteBanner(t){this.removeImagesFromApi(t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(f.s),e.Y36(d.uw),e.Y36(h._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-banner"]],inputs:{bannerData:"bannerData"},decls:7,vars:1,consts:[[1,"header-Landing_config"],[1,"btn-create",3,"click"],[1,"content-wrap_cms"],["class","cms_content_box",4,"ngFor","ngForOf"],[1,"cms_content_box"],[1,"first_sec"],[1,"title_sec"],[1,"img-box"],[3,"src"],[1,"btn_sec",2,"margin-left","auto"],[1,"btn_sec"],[1,"delete",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"Manage Banners"),e.qZA(),e.TgZ(3,"a",1),e.NdJ("click",function(){return n.createBanner()}),e._uU(4,"+ Create"),e.qZA()(),e.TgZ(5,"div",2),e.YNc(6,M,12,3,"div",3),e.qZA()),2&t&&(e.xp6(6),e.Q6J("ngForOf",n.bannerData))},directives:[u.sg],styles:[""]}),i})();var N=p(9202),A=p(4617);const V=["fileInput"];function E(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);let n;e.xp6(1),e.hij(" ",null==(n=t.leadersForm.get("name"))||null==n.errors||null==n.errors.trimError?null:n.errors.trimError.value," ")}}function Q(i,a){1&i&&(e.ynx(0),e._uU(1," Leader name required "),e.BQk())}function D(i,a){if(1&i&&e.YNc(0,Q,2,0,"ng-container",7),2&i){const t=e.oxw(2);let n;e.Q6J("ngIf",null==(n=t.leadersForm.get("name"))?null:n.invalid)}}function j(i,a){if(1&i&&(e.TgZ(0,"mat-error"),e.YNc(1,E,2,1,"div",30),e.YNc(2,D,1,1,"ng-template",null,31,e.W1O),e.qZA()),2&i){const t=e.MAs(3),n=e.oxw();let o;e.xp6(1),e.Q6J("ngIf",null==(o=n.leadersForm.get("name"))?null:o.hasError("trimError"))("ngIfElse",t)}}function R(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);let n;e.xp6(1),e.hij(" ",null==(n=t.leadersForm.get("designation"))||null==n.errors||null==n.errors.trimError?null:n.errors.trimError.value," ")}}function $(i,a){1&i&&(e.ynx(0),e._uU(1," Leader designation required "),e.BQk())}function B(i,a){if(1&i&&e.YNc(0,$,2,0,"ng-container",7),2&i){const t=e.oxw(2);let n;e.Q6J("ngIf",null==(n=t.leadersForm.get("designation"))?null:n.invalid)}}function z(i,a){if(1&i&&(e.TgZ(0,"mat-error"),e.YNc(1,R,2,1,"div",30),e.YNc(2,B,1,1,"ng-template",null,31,e.W1O),e.qZA()),2&i){const t=e.MAs(3),n=e.oxw();let o;e.xp6(1),e.Q6J("ngIf",null==(o=n.leadersForm.get("designation"))?null:o.hasError("trimError"))("ngIfElse",t)}}function G(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);let n;e.xp6(1),e.hij(" ",null==(n=t.leadersForm.get("comments"))||null==n.errors||null==n.errors.trimError?null:n.errors.trimError.value," ")}}function H(i,a){1&i&&(e.ynx(0),e._uU(1," Description required "),e.BQk())}function W(i,a){if(1&i&&e.YNc(0,H,2,0,"ng-container",7),2&i){const t=e.oxw(2);let n;e.Q6J("ngIf",null==(n=t.leadersForm.get("comments"))?null:n.invalid)}}function X(i,a){if(1&i&&(e.TgZ(0,"mat-error"),e.YNc(1,G,2,1,"div",30),e.YNc(2,W,1,1,"ng-template",null,31,e.W1O),e.qZA()),2&i){const t=e.MAs(3),n=e.oxw();let o;e.xp6(1),e.Q6J("ngIf",null==(o=n.leadersForm.get("comments"))?null:o.hasError("trimError"))("ngIfElse",t)}}function K(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1," Please enter a valid number for the sequence. "),e.qZA())}function ee(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1," Sequence required "),e.qZA())}function te(i,a){if(1&i&&(e.TgZ(0,"mat-error"),e.YNc(1,K,2,0,"div",7),e.YNc(2,ee,2,0,"div",7),e.qZA()),2&i){const t=e.oxw();let n,o;e.xp6(1),e.Q6J("ngIf",null==(n=t.leadersForm.get("index"))?null:n.hasError("notANumber")),e.xp6(1),e.Q6J("ngIf",null==(o=t.leadersForm.get("index"))?null:o.hasError("required"))}}function ne(i,a){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," Please select any image file of format .jpg, .jpeg, .bmp, .png, .svg, .gif, .jfif, .pjpeg, pjp "),e.qZA())}function ie(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",34)(1,"div",35)(2,"label",36),e._UZ(3,"img",37),e.TgZ(4,"div",38)(5,"img",39),e.NdJ("click",function(){const r=e.CHM(t).index;return e.oxw(2).clearImage(r)}),e.qZA()()()()()}if(2&i){const t=a.$implicit,n=a.index;let o;e.xp6(1),e.Q6J("formGroupName",n),e.xp6(2),e.Q6J("src",null==(o=t.get("url"))?null:o.value,e.LSH)}}function oe(i,a){if(1&i&&(e.TgZ(0,"div",32),e.YNc(1,ie,6,2,"div",33),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",null==t.photosOrVideos?null:t.photosOrVideos.controls)}}let re=(()=>{class i{constructor(t,n,o,r,l,s,m,v){this.dialogRef=t,this.data=n,this.fb=o,this.sanitizer=r,this.toastr=l,this.communicationService=s,this.storageService=m,this.apiService=v,this.errorMessage="",this.limit=1,this.allowedFileExtensions=["jpg","svg","jpeg","png","gif","jfif","pjpeg","pjp"]}ngOnInit(){this.leadersForm=this.initializeFromGroup()}get photosOrVideos(){return this.leadersForm.controls.image}initializeFromGroup(){return this.fb.group({name:["",[c.kI.required]],designation:["",[c.kI.required]],comments:["",[c.kI.required]],index:["",[c.kI.required,this.numberValidator]],image:this.fb.array([],[c.kI.required])})}createItem(t){return this.fb.group({file:[t.file],url:[t.url]})}onFileSelection(t){const n=t.target.files;if(n.length>0){for(var o=0;o<n.length;o++){const r=n[o];if(this.fileInputValidation(r)){const l=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(r));this.photosOrVideos.push(this.createItem({file:r,url:l}))}n.length-1==o&&(this.fileInput.nativeElement.value="")}return!0}return!1}fileInputValidation(t){try{return this.photosOrVideos.value.length>this.limit-1?(this.toastr.info("Max allowed files is 1"),this.fileInput.nativeElement.value="",!1):this.photosOrVideos.value.find(o=>o.file.name?-1!==o.file.name.indexOf(t.name):-1!==o.file.imageName.indexOf(t.name))?(this.toastr.info("Duplicate file name"),this.fileInput.nativeElement.value="",!1):t.size>5242880?(this.toastr.info("Maximum allowed file size is 5mb"),!1):this.validateImageOrVideoExtensions(t)}catch(o){}return!0}validateImageOrVideoExtensions(t){try{var o=t.name;if(!(o.length>0))return!1;for(var r=!1,l=0;l<this.allowedFileExtensions.length;l++){var s=this.allowedFileExtensions[l];if(o.substr(o.lastIndexOf(".")+1).toLowerCase()==s.toLowerCase()){r=!0;break}}if(!r)return this.toastr.warning("Sorry, "+o+" is invalid, allowed extensions are: "+this.allowedFileExtensions.join(", ")),!1}catch(m){}return!0}clearImage(t){try{this.photosOrVideos.removeAt(t)}catch(n){}}filesDropped(t){try{if(this.fileInputValidation(t.dataTransfer.files))for(let n=0;n<t.dataTransfer.files.length;n++){const o=t.dataTransfer.files[n],r=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(o));this.photosOrVideos.push(this.createItem({file:o,url:r}))}}catch(n){}}onSave(){if(this.leadersForm.valid){console.log("Form is valid. Proceed with upload."),console.log(this.leadersForm.value);var t=new FormData;for(const[n,o]of this.photosOrVideos.value.entries())t.append("images",o.file);t.append("leaderName",this.leadersForm.controls.name.value),t.append("designation",this.leadersForm.controls.designation.value),t.append("description",this.leadersForm.controls.comments.value),t.append("index",this.leadersForm.controls.index.value),this.callSaveToApi(t).then(n=>{})}else this.toastr.info("Please fill all the required fields")}callSaveToApi(t){const n={headers:new C.WM({"Content-Type":"undefined"})};return new Promise((o,r)=>{if(t){let l="";this.communicationService.post(_.P.uploadLeadersTalksUrl(),t,n,!0).subscribe({next:s=>{l=s.message,o(s)},error:s=>{this.toastr.error(s.error.message),r(s)},complete:()=>{this.dialogRef.close({status:!0,type:"add",message:l}),this.apiService.adminDataChange$.next(!0)}})}else o([])})}getErrorMessage(t){return this.leadersForm.get(t).hasError("required")?"This field is required":""}numberValidator(t){return isNaN(Number(t.value))?{notANumber:!0}:null}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.so),e.Y36(d.WI),e.Y36(c.qu),e.Y36(b.H7),e.Y36(h._W),e.Y36(x.O),e.Y36(A.C),e.Y36(f.s))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-leaders-talk-create"]],viewQuery:function(t,n){if(1&t&&e.Gf(V,5),2&t){let o;e.iGM(o=e.CRH())&&(n.fileInput=o.first)}},decls:57,vars:7,consts:[[1,"closed__wrapper"],[1,""],[1,"chat__element"],[1,"heading"],[3,"formGroup"],["appearance","outline"],["matInput","","placeholder","Name of Leader","formControlName","name"],[4,"ngIf"],["matInput","","placeholder","Designation","formControlName","designation"],["matInput","","placeholder","Leader Talk","formControlName","comments"],["matInput","","placeholder","Enter the sequence","formControlName","index"],[1,"upload"],[1,"flbx-stretch","align-items-start"],[1,"item-wrapper","one"],[1,"item"],[1,"item-inner"],[1,"item-content"],["appDrag","",1,"image-upload",3,"drop"],["for","file_upload",2,"cursor","pointer"],[1,"h-100"],[1,"dplay-tbl"],[1,"dplay-tbl-cell"],["src","assets/images/upload-icon.svg","alt","upload"],[1,"m-0","text-start"],["type","file","id","file_upload","multiple","","data-traget-resolution","image_resolution","value","","accept",".jpg,.jpeg,.bmp,.png,.svg,.gif,.jfif,.pjpeg,pjp",1,"image-input",3,"change"],["fileInput",""],["class","choose-img mt-3 d-flex",4,"ngIf"],[1,"notification__container"],[1,"btn","btn-red",3,"click"],["mat-dialog-close","",1,"btn","btn-grey"],[4,"ngIf","ngIfElse"],["requiredError",""],[1,"choose-img","mt-3","d-flex"],["class","answers","formArrayName","image",4,"ngFor","ngForOf"],["formArrayName","image",1,"answers"],[1,"flbx-vac",3,"formGroupName"],[1,"answer"],[1,"preview_img",3,"src"],[1,"close"],["src","assets/images/close.svg",3,"click"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),e._uU(4,"Add Leaders Talk"),e.qZA(),e.TgZ(5,"form",4)(6,"mat-form-field",5)(7,"mat-label"),e._uU(8,"Name of Leader"),e.qZA(),e._UZ(9,"input",6),e.YNc(10,j,4,2,"mat-error",7),e.qZA(),e.TgZ(11,"mat-form-field",5)(12,"mat-label"),e._uU(13,"Designation"),e.qZA(),e._UZ(14,"input",8),e.YNc(15,z,4,2,"mat-error",7),e.qZA(),e.TgZ(16,"mat-form-field",5)(17,"mat-label"),e._uU(18,"Leader Talk"),e.qZA(),e.TgZ(19,"textarea",9),e._uU(20,"            "),e.qZA(),e.YNc(21,X,4,2,"mat-error",7),e.qZA(),e.TgZ(22,"mat-form-field",5)(23,"mat-label"),e._uU(24,"Sequence to be displayed"),e.qZA(),e._UZ(25,"input",10),e.YNc(26,te,3,2,"mat-error",7),e.qZA(),e.TgZ(27,"div",11)(28,"div",12)(29,"h3"),e._uU(30,"Upload Picture"),e.qZA()(),e.TgZ(31,"div",13)(32,"div",14)(33,"div",15)(34,"div",16)(35,"div",17),e.NdJ("drop",function(r){return n.filesDropped(r)}),e.TgZ(36,"label",18)(37,"div",19)(38,"div",20)(39,"div",21),e._UZ(40,"img",22),e.TgZ(41,"div")(42,"h3",23),e._uU(43," Drag and drop file here "),e.qZA(),e.TgZ(44,"p",23),e._uU(45,"Or"),e.qZA(),e.TgZ(46,"h2",23),e._uU(47,"Browse file"),e.qZA()()()()(),e.TgZ(48,"input",24,25),e.NdJ("change",function(r){return n.onFileSelection(r)}),e.qZA(),e.YNc(50,ne,2,0,"mat-error",7),e.qZA()()()()()(),e.YNc(51,oe,2,1,"div",26),e.qZA()()()(),e.TgZ(52,"div",27)(53,"button",28),e.NdJ("click",function(){return n.onSave()}),e._uU(54,"Save"),e.qZA(),e.TgZ(55,"button",29),e._uU(56,"Cancel"),e.qZA()()()),2&t){let o,r,l,s,m;e.xp6(5),e.Q6J("formGroup",n.leadersForm),e.xp6(5),e.Q6J("ngIf",(null==(o=n.leadersForm.get("name"))?null:o.invalid)&&((null==(o=n.leadersForm.get("name"))?null:o.dirty)||(null==(o=n.leadersForm.get("name"))?null:o.touched))),e.xp6(5),e.Q6J("ngIf",(null==(r=n.leadersForm.get("designation"))?null:r.invalid)&&((null==(r=n.leadersForm.get("designation"))?null:r.dirty)||(null==(r=n.leadersForm.get("designation"))?null:r.touched))),e.xp6(6),e.Q6J("ngIf",(null==(l=n.leadersForm.get("comments"))?null:l.invalid)&&((null==(l=n.leadersForm.get("comments"))?null:l.dirty)||(null==(l=n.leadersForm.get("comments"))?null:l.touched))),e.xp6(5),e.Q6J("ngIf",(null==(s=n.leadersForm.get("index"))?null:s.invalid)&&(null==(s=n.leadersForm.get("index"))?null:s.touched)),e.xp6(24),e.Q6J("ngIf",null==(m=n.leadersForm.get("image"))||null==m.errors?null:m.errors.required),e.xp6(1),e.Q6J("ngIf",n.photosOrVideos.value.length)}},directives:[c._Y,c.JL,c.sg,g.KE,g.hX,T.Nt,c.Fj,c.JJ,c.u,u.O5,g.TO,w.w,u.sg,c.CE,c.x0,d.ZT],styles:[".close[_ngcontent-%COMP%]{position:absolute;top:0;right:0}.answer[_ngcontent-%COMP%]{position:relative;width:100%}.answer[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{max-width:100%;border-radius:5px;width:100%;object-fit:cover;height:100px}.preview_img[_ngcontent-%COMP%]{height:100px;object-fit:cover}.answers[_ngcontent-%COMP%]{width:18%;margin-right:10px}@media screen and (max-width: 767px){.answers[_ngcontent-%COMP%]{width:100%!important}}.answers[_ngcontent-%COMP%]   .flbx-vac[_ngcontent-%COMP%]{width:100%}.upload[_ngcontent-%COMP%]{padding:20px 0}form.ng-pristine[_ngcontent-%COMP%]{height:300px;overflow-y:scroll}"]}),i})();function ae(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7),e._UZ(4,"img",8),e.qZA(),e.TgZ(5,"h2"),e._uU(6),e.TgZ(7,"span"),e._uU(8),e.qZA()()(),e.TgZ(9,"div",9)(10,"h2"),e._uU(11),e.qZA()(),e.TgZ(12,"div",10)(13,"a",11),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().deleteLeadersData(null==r?null:r.imageName)}),e.qZA()()(),e.TgZ(14,"div",12)(15,"p"),e._uU(16),e.qZA()()()}if(2&i){const t=a.$implicit;e.xp6(4),e.Q6J("src",null==t?null:t.leaderPictureLocation,e.LSH),e.xp6(2),e.hij(" ",t.leaderName," "),e.xp6(2),e.Oqu(null==t?null:t.designation),e.xp6(3),e.Oqu(null==t?null:t.index),e.xp6(5),e.hij(" ",null==t?null:t.description," ")}}let F=(()=>{class i{constructor(t,n,o){this.dialog=t,this.apiService=n,this.toastr=o}ngOnInit(){this.apiService.adminSideNavChanged$.subscribe(t=>{(null==t?void 0:t.status)&&"leaders-talks"==(null==t?void 0:t.type)&&(this.leadersData=t.leadersData)})}createLeadersTalk(){this.dialog.open(re,{width:"670px",data:{}}).afterClosed().subscribe(n=>{(null==n?void 0:n.status)&&this.toastr.success(null==n?void 0:n.message)})}removeDataFromApi(t){this.dialog.open(Z.p,{width:"470px",data:{heading:"Delete Leader?",message:"Are you sure you want to delete the Leader?"}}).afterClosed().subscribe(o=>{if(o){const r=`${_.P.deleteLeadersTalkData()}?imageName=${t.toString()}`;this.apiService.delete({},r).subscribe(()=>{this.apiService.adminDataChange$.next(!0),this.toastr.success("Leader deleted Successfully")})}})}deleteLeadersData(t){this.removeDataFromApi(t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.uw),e.Y36(f.s),e.Y36(h._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-leaders-talk"]],inputs:{leadersData:"leadersData"},decls:7,vars:1,consts:[[1,"header-Landing_config"],[1,"btn-create",3,"click"],[1,"content-wrap_cms"],["class","cms_content_box",4,"ngFor","ngForOf"],[1,"cms_content_box"],[1,"first_sec"],[1,"title_sec"],[1,"img-box"],[3,"src"],[1,"btn_sec",2,"margin-left","auto"],[1,"btn_sec"],[1,"delete",3,"click"],[1,"second_sec"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"Manage Leader Talks"),e.qZA(),e.TgZ(3,"a",1),e.NdJ("click",function(){return n.createLeadersTalk()}),e._uU(4,"+ Create"),e.qZA()(),e.TgZ(5,"div",2),e.YNc(6,ae,17,5,"div",3),e.qZA()),2&t&&(e.xp6(6),e.Q6J("ngForOf",n.leadersData))},directives:[u.sg],styles:[""]}),i})();var le=p(7732);function se(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);let n;e.xp6(1),e.hij(" ",null==(n=t.videoForm.get("videoURL"))||null==n.errors||null==n.errors.trimError?null:n.errors.trimError.value," ")}}function ce(i,a){1&i&&(e.ynx(0),e._uU(1," Video URL required "),e.BQk())}function me(i,a){if(1&i&&e.YNc(0,ce,2,0,"ng-container",7),2&i){const t=e.oxw(2);let n;e.Q6J("ngIf",null==(n=t.videoForm.get("videoURL"))?null:n.invalid)}}function de(i,a){if(1&i&&(e.TgZ(0,"mat-error"),e.YNc(1,se,2,1,"div",13),e.YNc(2,me,1,1,"ng-template",null,14,e.W1O),e.qZA()),2&i){const t=e.MAs(3),n=e.oxw();let o;e.xp6(1),e.Q6J("ngIf",null==(o=n.videoForm.get("videoURL"))?null:o.hasError("vdeoURL"))("ngIfElse",t)}}function ue(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);let n;e.xp6(1),e.hij(" ",null==(n=t.videoForm.get("NameOfVideo"))||null==n.errors||null==n.errors.trimError?null:n.errors.trimError.value," ")}}function pe(i,a){1&i&&(e.ynx(0),e._uU(1," Name Of Video required "),e.BQk())}function ge(i,a){if(1&i&&e.YNc(0,pe,2,0,"ng-container",7),2&i){const t=e.oxw(2);let n;e.Q6J("ngIf",null==(n=t.videoForm.get("NameOfVideo"))?null:n.invalid)}}function _e(i,a){if(1&i&&(e.TgZ(0,"mat-error"),e.YNc(1,ue,2,1,"div",13),e.YNc(2,ge,1,1,"ng-template",null,14,e.W1O),e.qZA()),2&i){const t=e.MAs(3),n=e.oxw();let o;e.xp6(1),e.Q6J("ngIf",null==(o=n.videoForm.get("NameOfVideo"))?null:o.hasError("NameOfVideo"))("ngIfElse",t)}}function fe(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1," Please enter a valid number for the sequence. "),e.qZA())}function he(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1," Sequence required "),e.qZA())}function ve(i,a){if(1&i&&(e.TgZ(0,"mat-error"),e.YNc(1,fe,2,0,"div",7),e.YNc(2,he,2,0,"div",7),e.qZA()),2&i){const t=e.oxw();let n,o;e.xp6(1),e.Q6J("ngIf",null==(n=t.videoForm.get("index"))?null:n.hasError("notANumber")),e.xp6(1),e.Q6J("ngIf",null==(o=t.videoForm.get("index"))?null:o.hasError("required"))}}let Ce=(()=>{class i{constructor(t,n,o,r,l){this.dialogRef=t,this.communicationService=n,this.toastr=o,this.apiService=r,this.fb=l}ngOnInit(){this.videoForm=this.initializeFormGroup()}initializeFormGroup(){return this.fb.group({videoURL:["",c.kI.required],NameOfVideo:["",c.kI.required],index:["",[c.kI.required,this.numberValidator]]})}onSave(){if(this.videoForm.valid)if(this.validateURL(this.url)){var t=new FormData;t.append("videoURL",this.videoForm.controls.videoURL.value),t.append("videoName",this.videoForm.controls.NameOfVideo.value),t.append("index",this.videoForm.controls.index.value),this.callSaveToApi(t).then(n=>{})}else this.toastr.error("Please Enter Embed Url Link ");else this.toastr.info("Please fill all the required fields")}validateURL(t){return!!/^(https?:\/\/)?(www\.)?(youtube\.com\/(embed\/|v\/|watch\?v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/.test(t)}callSaveToApi(t){const n={headers:new C.WM({"Content-Type":"undefined"})};return new Promise((o,r)=>{if(t){let l="";this.communicationService.post(_.P.uploadVideo(),t,n,!0).subscribe({next:s=>{l=s.message,o(s)},error:s=>{this.toastr.error(s.error.message),r(s)},complete:()=>{this.dialogRef.close({status:!0,type:"add",message:l}),this.apiService.adminDataChange$.next(!0)}})}else o([])})}numberValidator(t){return isNaN(Number(t.value))?{notANumber:!0}:null}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.so),e.Y36(x.O),e.Y36(h._W),e.Y36(f.s),e.Y36(c.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-yt-videos-create"]],decls:26,vars:5,consts:[[1,"closed__wrapper"],[1,""],[1,"chat__element"],[1,"heading"],[3,"formGroup"],["appearance","outline"],["matInput","","placeholder","Embed Video Link","formControlName","videoURL",3,"ngModel","ngModelChange"],[4,"ngIf"],["matInput","","placeholder","Enter the sequence","formControlName","NameOfVideo"],["matInput","","placeholder","Enter the sequence","formControlName","index"],[1,"notification__container"],[1,"btn","btn-red",3,"click"],["mat-dialog-close","",1,"btn","btn-grey"],[4,"ngIf","ngIfElse"],["requiredError",""]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),e._uU(4,"Add Youtube Video Embed Url"),e.qZA(),e.TgZ(5,"form",4)(6,"mat-form-field",5)(7,"mat-label"),e._uU(8,"Video URL"),e.qZA(),e.TgZ(9,"input",6),e.NdJ("ngModelChange",function(r){return n.url=r}),e.qZA(),e.YNc(10,de,4,2,"mat-error",7),e.qZA(),e.TgZ(11,"mat-form-field",5)(12,"mat-label"),e._uU(13,"Name of the video"),e.qZA(),e._UZ(14,"input",8),e.YNc(15,_e,4,2,"mat-error",7),e.qZA(),e.TgZ(16,"mat-form-field",5)(17,"mat-label"),e._uU(18,"Sequence to be displayed"),e.qZA(),e._UZ(19,"input",9),e.YNc(20,ve,3,2,"mat-error",7),e.qZA()()()(),e.TgZ(21,"div",10)(22,"button",11),e.NdJ("click",function(){return n.onSave()}),e._uU(23,"Save"),e.qZA(),e.TgZ(24,"button",12),e._uU(25,"Cancel"),e.qZA()()()),2&t){let o,r,l;e.xp6(5),e.Q6J("formGroup",n.videoForm),e.xp6(4),e.Q6J("ngModel",n.url),e.xp6(1),e.Q6J("ngIf",(null==(o=n.videoForm.get("videoURL"))?null:o.invalid)&&((null==(o=n.videoForm.get("videoURL"))?null:o.dirty)||(null==(o=n.videoForm.get("videoURL"))?null:o.touched))),e.xp6(5),e.Q6J("ngIf",(null==(r=n.videoForm.get("NameOfVideo"))?null:r.invalid)&&((null==(r=n.videoForm.get("NameOfVideo"))?null:r.dirty)||(null==(r=n.videoForm.get("NameOfVideo"))?null:r.touched))),e.xp6(5),e.Q6J("ngIf",(null==(l=n.videoForm.get("index"))?null:l.invalid)&&(null==(l=n.videoForm.get("index"))?null:l.touched))}},directives:[c._Y,c.JL,c.sg,g.KE,g.hX,T.Nt,c.Fj,c.JJ,c.u,u.O5,g.TO,d.ZT],styles:[".close[_ngcontent-%COMP%]{position:absolute;top:0;right:0}.answer[_ngcontent-%COMP%]{position:relative;width:100%}.answer[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{max-width:100%;border-radius:5px;width:100%;object-fit:cover;height:100px}.preview_img[_ngcontent-%COMP%]{height:100px;object-fit:cover}.answers[_ngcontent-%COMP%]{width:18%;margin-right:10px}@media screen and (max-width: 767px){.answers[_ngcontent-%COMP%]{width:100%!important}}.answers[_ngcontent-%COMP%]   .flbx-vac[_ngcontent-%COMP%]{width:100%}.upload[_ngcontent-%COMP%]{padding:20px 0}form.ng-pristine[_ngcontent-%COMP%]{height:300px;overflow-y:scroll}"]}),i})();function xe(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7),e._UZ(4,"img",8),e.qZA(),e.TgZ(5,"a",9),e._uU(6),e.qZA()(),e.TgZ(7,"div",10)(8,"h2"),e._uU(9),e.qZA()(),e.TgZ(10,"div",11)(11,"a",12),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().deleteVideo(null==r?null:r.videoURL)}),e.qZA()()()()}if(2&i){const t=a.$implicit;e.xp6(4),e.Q6J("src",null==t?null:t.videoImage,e.LSH),e.xp6(1),e.s9C("href",null==t?null:t.videoURL,e.LSH),e.xp6(1),e.Oqu(null==t?null:t.videoURL),e.xp6(3),e.Oqu(null==t?null:t.index)}}let Te=(()=>{class i{constructor(t,n,o){this.apiService=t,this.dialog=n,this.toastr=o}ngOnInit(){this.apiService.adminSideNavChanged$.subscribe(t=>{(null==t?void 0:t.status)&&"youtube-video"==(null==t?void 0:t.type)&&(this.ytData=t.video)})}createVideo(){this.dialog.open(Ce,{width:"670px",data:{}}).afterClosed().subscribe(n=>{(null==n?void 0:n.status)&&this.toastr.success(null==n?void 0:n.message)})}removeVideoFromApi(t){this.dialog.open(Z.p,{width:"470px",data:{heading:"Delete Video?",message:"Are you sure you want to delete the Video?"}}).afterClosed().subscribe(o=>{if(o){const r=`${_.P.deleteVideo()}?videoURL=${t.toString()}`;this.apiService.delete({},r).subscribe(()=>{this.apiService.adminDataChange$.next(!0),this.toastr.success("Video deleted Successfully")})}})}deleteVideo(t){this.removeVideoFromApi(t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(f.s),e.Y36(d.uw),e.Y36(h._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-youtube-videos"]],inputs:{ytData:"ytData"},decls:7,vars:1,consts:[[1,"header-Landing_config"],[1,"btn-create",3,"click"],[1,"content-wrap_cms"],["class","cms_content_box",4,"ngFor","ngForOf"],[1,"cms_content_box"],[1,"first_sec"],[1,"title_sec"],[1,"img-box"],[3,"src"],["target","_blank",3,"href"],[1,"btn_sec",2,"margin-left","auto"],[1,"btn_sec"],[1,"delete",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"Manage Videos"),e.qZA(),e.TgZ(3,"a",1),e.NdJ("click",function(){return n.createVideo()}),e._uU(4,"+ Create"),e.qZA()(),e.TgZ(5,"div",2),e.YNc(6,xe,12,4,"div",3),e.qZA()),2&t&&(e.xp6(6),e.Q6J("ngForOf",n.ytData))},directives:[u.sg],styles:[""]}),i})();function Ze(i,a){if(1&i&&(e.TgZ(0,"option",9),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function be(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"h3",5),e._uU(4),e.qZA()(),e.TgZ(5,"div",6)(6,"select",7),e.NdJ("ngModelChange",function(o){return e.CHM(t).$implicit.currentActivity=o})("ngModelChange",function(o){const l=e.CHM(t).$implicit;return e.oxw().onOptionSelected(l.location,o)}),e.YNc(7,Ze,2,2,"option",8),e.qZA()()()()}if(2&i){const t=a.$implicit;e.xp6(4),e.Oqu(t.location),e.xp6(2),e.Q6J("ngModel",t.currentActivity),e.xp6(1),e.Q6J("ngForOf",t.activityIdName)}}let we=(()=>{class i{constructor(t,n,o,r,l){this.apiService=t,this.dialog=n,this.toastr=o,this.communicationService=r,this.dialogRef=l}ngOnInit(){}getConfig(){const t=`${_.P.getActivityConfig()}`;this.apiService.get(t).subscribe(n=>{this.selectedLocations=n.data})}onOptionSelected(t,n){const o=new FormData;o.append("location",t),o.append("nameId",n),this.callSaveToApi(o).then(l=>{});const r=`${_.P.uploadActivityConfig()}`;this.apiService.post(o,r).subscribe(l=>{console.log(l)})}callSaveToApi(t){const n={headers:new C.WM({"Content-Type":"undefined"})};return new Promise((o,r)=>{if(t){let l="";this.communicationService.post(_.P.uploadActivityConfig(),t,n,!0).subscribe({next:s=>{l=s.message,o(s)},error:s=>{this.toastr.error(s.error.message),r(s)},complete:()=>{this.dialogRef.close({status:!0,type:"add",message:l}),this.apiService.adminDataChange$.next(!0)}})}else o([])})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(f.s),e.Y36(d.uw),e.Y36(h._W),e.Y36(x.O),e.Y36(d.so))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-activity"]],inputs:{locationActivity:"locationActivity"},decls:4,vars:1,consts:[[1,"header-Landing_config"],["class","cms_content_box",4,"ngFor","ngForOf"],[1,"cms_content_box"],[1,"first_sec"],[1,"title_sec"],[2,"margin-bottom","-8px"],[1,"btn_sec"],[1,"custom-dropdown",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"Manage Activities"),e.qZA()(),e.YNc(3,be,8,3,"div",1)),2&t&&(e.xp6(3),e.Q6J("ngForOf",n.locationActivity))},directives:[u.sg,c.EJ,c.JJ,c.On,c.YN,c.Kr],styles:['@charset "UTF-8";.custom-dropdown[_ngcontent-%COMP%]{width:200px;padding:8px;font-size:16px;border:1px solid #ccc;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;border-radius:4px;cursor:pointer;-webkit-appearance:none;appearance:none;background-color:#fff}.custom-dropdown[_ngcontent-%COMP%]:after{content:"\\25bc";position:absolute;top:50%;right:10px;transform:translateY(-50%);pointer-events:none}.custom-dropdown[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{padding:8px;font-size:14px}.custom-dropdown[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 5px #007bff80}']}),i})();const Ae=["fileInput"],Oe=["voiceInput"];function qe(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);let n;e.xp6(1),e.hij(" ",null==(n=t.testimonialForm.get("name"))||null==n.errors||null==n.errors.trimError?null:n.errors.trimError.value," ")}}function ye(i,a){1&i&&(e.ynx(0),e._uU(1," Testimonial name required "),e.BQk())}function Ne(i,a){if(1&i&&e.YNc(0,ye,2,0,"ng-container",7),2&i){const t=e.oxw(2);let n;e.Q6J("ngIf",null==(n=t.testimonialForm.get("name"))?null:n.invalid)}}function Fe(i,a){if(1&i&&(e.TgZ(0,"mat-error"),e.YNc(1,qe,2,1,"div",33),e.YNc(2,Ne,1,1,"ng-template",null,34,e.W1O),e.qZA()),2&i){const t=e.MAs(3),n=e.oxw();let o;e.xp6(1),e.Q6J("ngIf",null==(o=n.testimonialForm.get("name"))?null:o.hasError("trimError"))("ngIfElse",t)}}function Ie(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);let n;e.xp6(1),e.hij(" ",null==(n=t.testimonialForm.get("designation"))||null==n.errors||null==n.errors.trimError?null:n.errors.trimError.value," ")}}function Ue(i,a){1&i&&(e.ynx(0),e._uU(1," Designation and Location required "),e.BQk())}function Pe(i,a){if(1&i&&e.YNc(0,Ue,2,0,"ng-container",7),2&i){const t=e.oxw(2);let n;e.Q6J("ngIf",null==(n=t.testimonialForm.get("designation"))?null:n.invalid)}}function Se(i,a){if(1&i&&(e.TgZ(0,"mat-error"),e.YNc(1,Ie,2,1,"div",33),e.YNc(2,Pe,1,1,"ng-template",null,34,e.W1O),e.qZA()),2&i){const t=e.MAs(3),n=e.oxw();let o;e.xp6(1),e.Q6J("ngIf",null==(o=n.testimonialForm.get("designation"))?null:o.hasError("trimError"))("ngIfElse",t)}}function Le(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1," Please enter a valid number for the sequence. "),e.qZA())}function Ye(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1," Sequence required "),e.qZA())}function Je(i,a){if(1&i&&(e.TgZ(0,"mat-error"),e.YNc(1,Le,2,0,"div",7),e.YNc(2,Ye,2,0,"div",7),e.qZA()),2&i){const t=e.oxw();let n,o;e.xp6(1),e.Q6J("ngIf",null==(n=t.testimonialForm.get("index"))?null:n.hasError("notANumber")),e.xp6(1),e.Q6J("ngIf",null==(o=t.testimonialForm.get("index"))?null:o.hasError("required"))}}function ke(i,a){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," Please select any image file of format .jpg, .jpeg, .bmp, .png, .svg, .gif, .jfif, .pjpeg, pjp "),e.qZA())}function Me(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",37)(1,"div",38)(2,"label",39),e._UZ(3,"img",40),e.TgZ(4,"div",41)(5,"img",42),e.NdJ("click",function(){const r=e.CHM(t).index;return e.oxw(2).clearImage(r,"image")}),e.qZA()()()()()}if(2&i){const t=a.$implicit,n=a.index;let o;e.xp6(1),e.Q6J("formGroupName",n),e.xp6(2),e.Q6J("src",null==(o=t.get("url"))?null:o.value,e.LSH)}}function Ve(i,a){if(1&i&&(e.TgZ(0,"div",35),e.YNc(1,Me,6,2,"div",36),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",null==t.photosOrVideos?null:t.photosOrVideos.controls)}}function Ee(i,a){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," Please select any audio file of format .mp3 "),e.qZA())}function Qe(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",44)(1,"div",38)(2,"label",39),e._UZ(3,"audio",45),e.TgZ(4,"div",41)(5,"img",42),e.NdJ("click",function(){const r=e.CHM(t).index;return e.oxw(2).clearImage(r,"audio")}),e.qZA()()()()()}if(2&i){const t=a.$implicit,n=a.index;let o;e.xp6(1),e.Q6J("formGroupName",n),e.xp6(2),e.Q6J("src",null==(o=t.get("url"))?null:o.value,e.LSH)}}function De(i,a){if(1&i&&(e.TgZ(0,"div",35),e.YNc(1,Qe,6,2,"div",43),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",null==t.audioFiles?null:t.audioFiles.controls)}}let je=(()=>{class i{constructor(t,n,o,r,l,s,m,v){this.dialogRef=t,this.data=n,this.fb=o,this.sanitizer=r,this.toastr=l,this.communicationService=s,this.storageService=m,this.apiService=v,this.limit=1,this.allowedFileExtensions=["jpg","svg","jpeg","png","gif","jfif","pjpeg","pjp","mp3","mp4"]}ngOnInit(){this.testimonialForm=this.initializeFromGroup()}get photosOrVideos(){return this.testimonialForm.controls.image}initializeFromGroup(){return this.fb.group({name:["",[c.kI.required]],designation:["",[c.kI.required]],comments:["",[c.kI.required]],index:["",[c.kI.required,this.numberValidator]],image:this.fb.array([],[c.kI.required]),audio:this.fb.array([],[c.kI.required])})}createItem(t){return this.fb.group({file:[t.file],url:[t.url],format:[t.format]})}get audioFiles(){return this.testimonialForm.get("audio")}createAudioItem(t){return this.fb.group({file:[t.file],url:[t.url],format:[t.format]})}onFileSelection(t,n){console.log("type",n);const o=t.target.files;if(o.length>0){let l="";for(var r=0;r<o.length;r++){const s=o[r];if(this.fileInputValidation(s,n))if(s.type.indexOf("image")>-1?l="image":s.type.indexOf("audio")>-1&&(l="audio"),console.log("format",l),"image"==n){const m=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(s));this.photosOrVideos.push(this.createItem({file:s,url:m})),o.length-1==r&&(this.fileInput.nativeElement.value="")}else if("audio"==n){const m=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(s));this.audioFiles.push(this.createItem({file:s,url:m})),o.length-1==r&&(this.voiceInput.nativeElement.value="")}}return!0}return!1}fileInputValidation(t,n){try{if("image"==n){if(this.photosOrVideos.value.length>this.limit-1)return this.toastr.info("Max allowed files is 1"),this.fileInput.nativeElement.value="",!1}else if("audio"==n&&this.audioFiles.value.length>this.limit-1)return this.toastr.info("Max allowed files is 1"),this.voiceInput.nativeElement.value="",!1;return t.size>5242880?(this.toastr.info("Maximum allowed file size is 5mb"),!1):this.validateImageOrVideoExtensions(t)}catch(r){}return!0}validateImageOrVideoExtensions(t){try{var o=t.name;if(!(o.length>0))return!1;for(var r=!1,l=0;l<this.allowedFileExtensions.length;l++){var s=this.allowedFileExtensions[l];if(o.substr(o.lastIndexOf(".")+1).toLowerCase()==s.toLowerCase()){r=!0;break}}if(!r)return this.toastr.warning("Sorry, "+o+" is invalid, allowed extensions are: "+this.allowedFileExtensions.join(", ")),!1}catch(m){}return!0}clearImage(t,n){try{"image"==n?this.photosOrVideos.removeAt(t):"audio"==n&&this.audioFiles.removeAt(t)}catch(o){}}filesDropped(t,n){try{let o="";if(this.fileInputValidation(t.dataTransfer.files,n))for(let r=0;r<t.dataTransfer.files.length;r++){const l=t.dataTransfer.files[r];if(l.type.indexOf("image")>-1?o="image":l.type.indexOf("video")>-1&&(o="video"),"image"==n){const s=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(l));this.photosOrVideos.push(this.createItem({file:l,url:s})),t.dataTransfer.files.length-1==r&&(this.fileInput.nativeElement.value="")}else if("audio"==n){const s=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(l));this.audioFiles.push(this.createItem({file:l,url:s})),t.dataTransfer.files.length-1==r&&(this.voiceInput.nativeElement.value="")}}}catch(o){}}onSave(){if(this.testimonialForm.valid){var t=new FormData;for(const[n,o]of this.photosOrVideos.value.entries())t.append("imageAndAudio",o.file);for(const[n,o]of this.audioFiles.value.entries())t.append("imageAndAudio",o.file);t.append("speaksType",this.testimonialForm.controls.comments.value),t.append("personName",this.testimonialForm.controls.name.value),t.append("designationOrInfo",this.testimonialForm.controls.designation.value),t.append("index",this.testimonialForm.controls.index.value),this.callSaveToApi(t).then(n=>{})}else this.toastr.info("Please fill all the required fields")}callSaveToApi(t){const n={headers:new C.WM({"Content-Type":"undefined"})};return new Promise((o,r)=>{let l="";t?this.communicationService.post(_.P.uploadVoiceOfChange(),t,n,!0).subscribe({next:s=>{l=s.message,o(s)},error:s=>{this.toastr.error(s.error.message),r(s)},complete:()=>{this.dialogRef.close({status:!0,type:"add",message:l}),this.apiService.adminDataChange$.next(!0)}}):o([])})}numberValidator(t){return isNaN(Number(t.value))?{notANumber:!0}:null}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.so),e.Y36(d.WI),e.Y36(c.qu),e.Y36(b.H7),e.Y36(h._W),e.Y36(x.O),e.Y36(A.C),e.Y36(f.s))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-create-voice-of-change"]],viewQuery:function(t,n){if(1&t&&(e.Gf(Ae,5),e.Gf(Oe,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.fileInput=o.first),e.iGM(o=e.CRH())&&(n.voiceInput=o.first)}},decls:84,vars:9,consts:[[1,"closed__wrapper"],[1,""],[1,"chat__element"],[1,"heading"],[3,"formGroup"],["appearance","outline"],["matInput","","placeholder","Name of Person","formControlName","name"],[4,"ngIf"],["matInput","","placeholder","Designation and Location","formControlName","designation"],["matInput","","placeholder","Speaks Type","formControlName","comments"],["matInput","","placeholder","Enter the sequence","formControlName","index"],[1,"upload"],[1,"flbx-stretch","align-items-start"],[1,"item-wrapper","one"],[1,"item"],[1,"item-inner"],[1,"item-content"],["appDrag","",1,"image-upload",3,"drop"],["for","file_upload",2,"cursor","pointer"],[1,"h-100"],[1,"dplay-tbl"],[1,"dplay-tbl-cell"],["src","assets/images/upload-icon.svg","alt","upload"],[1,"m-0","text-start"],["type","file","id","file_upload","multiple","","data-traget-resolution","image_resolution","value","","accept",".jpg,.jpeg,.bmp,.png,.svg,.gif,.jfif,.pjpeg,pjp",1,"image-input",3,"change"],["fileInput",""],["class","choose-img mt-3 d-flex",4,"ngIf"],["for","file_upload1",2,"cursor","pointer"],["type","file","id","file_upload1","multiple","","data-traget-resolution","image_resolution","value","","accept","audio/*",1,"image-input",3,"change"],["voiceInput",""],[1,"notification__container"],[1,"btn","btn-red",3,"click"],["mat-dialog-close","",1,"btn","btn-grey"],[4,"ngIf","ngIfElse"],["requiredError",""],[1,"choose-img","mt-3","d-flex"],["class","answers","formArrayName","image",4,"ngFor","ngForOf"],["formArrayName","image",1,"answers"],[1,"flbx-vac",3,"formGroupName"],[1,"answer"],[1,"preview_img",3,"src"],[1,"close"],["src","assets/images/close.svg",3,"click"],["class","answers","formArrayName","audio",4,"ngFor","ngForOf"],["formArrayName","audio",1,"answers"],["controls","",1,"preview_img",3,"src"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),e._uU(4,"Add Voice Of Change"),e.qZA(),e.TgZ(5,"form",4)(6,"mat-form-field",5)(7,"mat-label"),e._uU(8,"Name of Person"),e.qZA(),e._UZ(9,"input",6),e.qZA(),e.YNc(10,Fe,4,2,"mat-error",7),e.TgZ(11,"mat-form-field",5)(12,"mat-label"),e._uU(13,"Designation And Location"),e.qZA(),e._UZ(14,"input",8),e.YNc(15,Se,4,2,"mat-error",7),e.qZA(),e.TgZ(16,"mat-form-field",5)(17,"mat-label"),e._uU(18,"Speaks Type"),e.qZA(),e.TgZ(19,"textarea",9),e._uU(20,"          <mat-error *ngIf=\"\n            testimonialForm.get('comments')?.invalid "),e._uU(21,"&"),e._uU(22,"&"),e._uU(23),e.qZA()(),e.TgZ(24,"mat-form-field",5)(25,"mat-label"),e._uU(26,"Sequence to be displayed"),e.qZA(),e._UZ(27,"input",10),e.YNc(28,Je,3,2,"mat-error",7),e.qZA(),e.TgZ(29,"div",11)(30,"div",12)(31,"h3"),e._uU(32,"Upload Picture"),e.qZA()(),e.TgZ(33,"div",13)(34,"div",14)(35,"div",15)(36,"div",16)(37,"div",17),e.NdJ("drop",function(r){return n.filesDropped(r,"image")}),e.TgZ(38,"label",18)(39,"div",19)(40,"div",20)(41,"div",21),e._UZ(42,"img",22),e.TgZ(43,"div")(44,"h3",23),e._uU(45," Drag and drop file here "),e.qZA(),e.TgZ(46,"p",23),e._uU(47,"Or"),e.qZA(),e.TgZ(48,"h2",23),e._uU(49,"Browse file"),e.qZA()()()()(),e.TgZ(50,"input",24,25),e.NdJ("change",function(r){return n.onFileSelection(r,"image")}),e.qZA(),e.YNc(52,ke,2,0,"mat-error",7),e.qZA()()()()()(),e.YNc(53,Ve,2,1,"div",26),e.qZA(),e.TgZ(54,"div",11)(55,"div",12)(56,"h3"),e._uU(57,"Upload Voice File"),e.qZA()(),e.TgZ(58,"div",13)(59,"div",14)(60,"div",15)(61,"div",16)(62,"div",17),e.NdJ("drop",function(r){return n.filesDropped(r,"audio")}),e.TgZ(63,"label",27)(64,"div",19)(65,"div",20)(66,"div",21),e._UZ(67,"img",22),e.TgZ(68,"div")(69,"h3",23),e._uU(70," Drag and drop file here "),e.qZA(),e.TgZ(71,"p",23),e._uU(72,"Or"),e.qZA(),e.TgZ(73,"h2",23),e._uU(74,"Browse file"),e.qZA()()()()(),e.TgZ(75,"input",28,29),e.NdJ("change",function(r){return n.onFileSelection(r,"audio")}),e.qZA(),e.YNc(77,Ee,2,0,"mat-error",7),e.qZA()()()()()(),e.YNc(78,De,2,1,"div",26),e.qZA()()()(),e.TgZ(79,"div",30)(80,"button",31),e.NdJ("click",function(){return n.onSave()}),e._uU(81,"Save"),e.qZA(),e.TgZ(82,"button",32),e._uU(83,"Cancel"),e.qZA()()()),2&t){let o,r,l,s,m,v;e.xp6(5),e.Q6J("formGroup",n.testimonialForm),e.xp6(5),e.Q6J("ngIf",(null==(o=n.testimonialForm.get("name"))?null:o.invalid)&&((null==(o=n.testimonialForm.get("name"))?null:o.dirty)||(null==(o=n.testimonialForm.get("name"))?null:o.touched))),e.xp6(5),e.Q6J("ngIf",(null==(r=n.testimonialForm.get("designation"))?null:r.invalid)&&((null==(r=n.testimonialForm.get("designation"))?null:r.dirty)||(null==(r=n.testimonialForm.get("designation"))?null:r.touched))),e.xp6(8),e.hij("\n            (testimonialForm.get('comments')?.dirty ||\n              testimonialForm.get('comments')?.touched)\n          \">\n          <div *ngIf=\"\n              testimonialForm.get('comments')?.hasError('trimError');\n              else requiredError\n            \">\n            ",null==(l=n.testimonialForm.get("comments"))||null==l.errors||null==l.errors.trimError?null:l.errors.trimError.value,"\n          </div>\n          <ng-template #requiredError>\n            <ng-container *ngIf=\"testimonialForm.get('designation')?.invalid\">\n              Speaks type required\n            </ng-container>\n          </ng-template>\n        </mat-error>\n          "),e.xp6(5),e.Q6J("ngIf",(null==(s=n.testimonialForm.get("index"))?null:s.invalid)&&(null==(s=n.testimonialForm.get("index"))?null:s.touched)),e.xp6(24),e.Q6J("ngIf",null==(m=n.testimonialForm.get("image"))||null==m.errors?null:m.errors.required),e.xp6(1),e.Q6J("ngIf",n.photosOrVideos.value.length),e.xp6(24),e.Q6J("ngIf",null==(v=n.testimonialForm.get("audio"))||null==v.errors?null:v.errors.required),e.xp6(1),e.Q6J("ngIf",n.audioFiles.value.length)}},directives:[c._Y,c.JL,c.sg,g.KE,g.hX,T.Nt,c.Fj,c.JJ,c.u,u.O5,g.TO,w.w,u.sg,c.CE,c.x0,d.ZT],styles:[".close[_ngcontent-%COMP%]{position:absolute;top:0;right:0}.answer[_ngcontent-%COMP%]{position:relative;width:100%}.answer[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{max-width:100%;border-radius:5px;width:100%;object-fit:cover;height:100px}.preview_img[_ngcontent-%COMP%]{height:100px;object-fit:cover}.answers[_ngcontent-%COMP%]{width:18%;margin-right:10px}@media screen and (max-width: 767px){.answers[_ngcontent-%COMP%]{width:100%!important}}.answers[_ngcontent-%COMP%]   .flbx-vac[_ngcontent-%COMP%]{width:100%}.upload[_ngcontent-%COMP%]{padding:20px 0}form.ng-pristine[_ngcontent-%COMP%]{height:300px;overflow-y:scroll}"]}),i})();function Re(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7),e._UZ(4,"img",8),e.qZA(),e.TgZ(5,"h2"),e._uU(6),e.TgZ(7,"span"),e._uU(8),e.qZA()()(),e.TgZ(9,"div",9)(10,"h2"),e._uU(11),e.qZA()(),e.TgZ(12,"div",10)(13,"a",11),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().deleteVoiceOfChangeData(null==r?null:r.imageName)}),e.qZA()()()()}if(2&i){const t=a.$implicit;e.xp6(4),e.Q6J("src",null==t?null:t.vocPictureLocation,e.LSH),e.xp6(2),e.hij(" ",null==t?null:t.personName," "),e.xp6(2),e.Oqu(null==t?null:t.designationOrInfo),e.xp6(3),e.Oqu(null==t?null:t.index)}}let $e=(()=>{class i{constructor(t,n,o){this.dialog=t,this.apiService=n,this.toastr=o}ngOnInit(){this.apiService.adminSideNavChanged$.subscribe(t=>{(null==t?void 0:t.status)&&"testimonials"==(null==t?void 0:t.type)&&(this.vocData=t.testimonialData)})}createVoiceOfChange(){this.dialog.open(je,{width:"670px",data:{}}).afterClosed().subscribe(n=>{(null==n?void 0:n.status)&&this.toastr.success(null==n?void 0:n.message)})}removeDataFromApi(t){this.dialog.open(Z.p,{width:"470px",data:{heading:"Delete Voice Of Change?",message:"Are you sure you want to delete the Voice Of Change?"}}).afterClosed().subscribe(o=>{if(o){const r=`${_.P.deleteVoiceOfChangeData()}?imageName=${t.toString()}`;this.apiService.delete({},r).subscribe(()=>{this.apiService.adminDataChange$.next(!0),this.toastr.success("Voice Of Change deleted Successfully")})}})}deleteVoiceOfChangeData(t){this.removeDataFromApi(t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.uw),e.Y36(f.s),e.Y36(h._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-voice-of-change"]],inputs:{vocData:"vocData"},decls:7,vars:1,consts:[[1,"header-Landing_config"],[1,"btn-create",3,"click"],[1,"content-wrap_cms"],["class","cms_content_box",4,"ngFor","ngForOf"],[1,"cms_content_box"],[1,"first_sec"],[1,"title_sec"],[1,"img-box"],[3,"src"],[1,"btn_sec",2,"margin-left","auto"],[1,"btn_sec"],[1,"delete",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"Manage voice of change"),e.qZA(),e.TgZ(3,"a",1),e.NdJ("click",function(){return n.createVoiceOfChange()}),e._uU(4,"+ Create"),e.qZA()(),e.TgZ(5,"div",2),e.YNc(6,Re,14,4,"div",3),e.qZA()),2&t&&(e.xp6(6),e.Q6J("ngForOf",n.vocData))},directives:[u.sg],styles:[".upload[_ngcontent-%COMP%]{padding:0!important}"]}),i})();const Be=["fileInput"];function ze(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);let n;e.xp6(1),e.hij(" ",null==(n=t.testimonialForm.get("name"))||null==n.errors||null==n.errors.trimError?null:n.errors.trimError.value," ")}}function Ge(i,a){1&i&&(e.ynx(0),e._uU(1," Testimonial name required "),e.BQk())}function He(i,a){if(1&i&&e.YNc(0,Ge,2,0,"ng-container",7),2&i){const t=e.oxw(2);let n;e.Q6J("ngIf",null==(n=t.testimonialForm.get("name"))?null:n.invalid)}}function We(i,a){if(1&i&&(e.TgZ(0,"mat-error"),e.YNc(1,ze,2,1,"div",30),e.YNc(2,He,1,1,"ng-template",null,31,e.W1O),e.qZA()),2&i){const t=e.MAs(3),n=e.oxw();let o;e.xp6(1),e.Q6J("ngIf",null==(o=n.testimonialForm.get("name"))?null:o.hasError("trimError"))("ngIfElse",t)}}function Xe(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);let n;e.xp6(1),e.hij(" ",null==(n=t.testimonialForm.get("designation"))||null==n.errors||null==n.errors.trimError?null:n.errors.trimError.value," ")}}function Ke(i,a){1&i&&(e.ynx(0),e._uU(1," Designation and Location required "),e.BQk())}function et(i,a){if(1&i&&e.YNc(0,Ke,2,0,"ng-container",7),2&i){const t=e.oxw(2);let n;e.Q6J("ngIf",null==(n=t.testimonialForm.get("designation"))?null:n.invalid)}}function tt(i,a){if(1&i&&(e.TgZ(0,"mat-error"),e.YNc(1,Xe,2,1,"div",30),e.YNc(2,et,1,1,"ng-template",null,31,e.W1O),e.qZA()),2&i){const t=e.MAs(3),n=e.oxw();let o;e.xp6(1),e.Q6J("ngIf",null==(o=n.testimonialForm.get("designation"))?null:o.hasError("trimError"))("ngIfElse",t)}}function nt(i,a){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);let n;e.xp6(1),e.hij(" ",null==(n=t.testimonialForm.get("comments"))||null==n.errors||null==n.errors.trimError?null:n.errors.trimError.value," ")}}function it(i,a){1&i&&(e.ynx(0),e._uU(1," Description required "),e.BQk())}function ot(i,a){if(1&i&&e.YNc(0,it,2,0,"ng-container",7),2&i){const t=e.oxw(2);let n;e.Q6J("ngIf",null==(n=t.testimonialForm.get("comments"))?null:n.invalid)}}function rt(i,a){if(1&i&&(e.TgZ(0,"mat-error"),e.YNc(1,nt,2,1,"div",30),e.YNc(2,ot,1,1,"ng-template",null,31,e.W1O),e.qZA()),2&i){const t=e.MAs(3),n=e.oxw();let o;e.xp6(1),e.Q6J("ngIf",null==(o=n.testimonialForm.get("comments"))?null:o.hasError("trimError"))("ngIfElse",t)}}function at(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1," Please enter a valid number for the sequence. "),e.qZA())}function lt(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1," Sequence required "),e.qZA())}function st(i,a){if(1&i&&(e.TgZ(0,"mat-error"),e.YNc(1,at,2,0,"div",7),e.YNc(2,lt,2,0,"div",7),e.qZA()),2&i){const t=e.oxw();let n,o;e.xp6(1),e.Q6J("ngIf",null==(n=t.testimonialForm.get("index"))?null:n.hasError("notANumber")),e.xp6(1),e.Q6J("ngIf",null==(o=t.testimonialForm.get("index"))?null:o.hasError("required"))}}function ct(i,a){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," Please select any image file of format .jpg, .jpeg, .bmp, .png, .svg, .gif, .jfif, .pjpeg, pjp "),e.qZA())}function mt(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",34)(1,"div",35)(2,"label",36),e._UZ(3,"img",37),e.TgZ(4,"div",38)(5,"img",39),e.NdJ("click",function(){const r=e.CHM(t).index;return e.oxw(2).clearImage(r)}),e.qZA()()()()()}if(2&i){const t=a.$implicit,n=a.index;let o;e.xp6(1),e.Q6J("formGroupName",n),e.xp6(2),e.Q6J("src",null==(o=t.get("url"))?null:o.value,e.LSH)}}function dt(i,a){if(1&i&&(e.TgZ(0,"div",32),e.YNc(1,mt,6,2,"div",33),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",null==t.photosOrVideos?null:t.photosOrVideos.controls)}}let ut=(()=>{class i{constructor(t,n,o,r,l,s,m,v){this.dialogRef=t,this.data=n,this.fb=o,this.sanitizer=r,this.toastr=l,this.communicationService=s,this.storageService=m,this.apiService=v,this.limit=1,this.allowedFileExtensions=["jpg","svg","jpeg","png","gif","jfif","pjpeg","pjp"]}ngOnInit(){this.testimonialForm=this.initializeFromGroup()}get photosOrVideos(){return this.testimonialForm.controls.image}initializeFromGroup(){return this.fb.group({name:["",[c.kI.required]],designation:["",[c.kI.required]],comments:["",[c.kI.required]],index:["",[c.kI.required,this.numberValidator]],image:this.fb.array([],[c.kI.required])})}createItem(t){return this.fb.group({file:[t.file],url:[t.url]})}onFileSelection(t){const n=t.target.files;if(n.length>0){for(var o=0;o<n.length;o++){const r=n[o];if(this.fileInputValidation(r)){const l=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(r));this.photosOrVideos.push(this.createItem({file:r,url:l}))}n.length-1==o&&(this.fileInput.nativeElement.value="")}return!0}return!1}fileInputValidation(t){try{return this.photosOrVideos.value.length>this.limit-1?(this.toastr.info("Max allowed files is 1"),this.fileInput.nativeElement.value="",!1):this.photosOrVideos.value.find(o=>o.file.name?-1!==o.file.name.indexOf(t.name):-1!==o.file.imageName.indexOf(t.name))?(this.toastr.info("Duplicate file name"),this.fileInput.nativeElement.value="",!1):t.size>5242880?(this.toastr.info("Maximum allowed file size is 5mb"),!1):this.validateImageOrVideoExtensions(t)}catch(o){}return!0}validateImageOrVideoExtensions(t){try{var o=t.name;if(!(o.length>0))return!1;for(var r=!1,l=0;l<this.allowedFileExtensions.length;l++){var s=this.allowedFileExtensions[l];if(o.substr(o.lastIndexOf(".")+1).toLowerCase()==s.toLowerCase()){r=!0;break}}if(!r)return this.toastr.warning("Sorry, "+o+" is invalid, allowed extensions are: "+this.allowedFileExtensions.join(", ")),!1}catch(m){}return!0}clearImage(t){try{this.photosOrVideos.removeAt(t)}catch(n){}}filesDropped(t){try{if(this.fileInputValidation(t.dataTransfer.files))for(let n=0;n<t.dataTransfer.files.length;n++){const o=t.dataTransfer.files[n],r=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(o));this.photosOrVideos.push(this.createItem({file:o,url:r}))}}catch(n){}}onSave(){if(this.testimonialForm.valid){var t=new FormData;for(const[n,o]of this.photosOrVideos.value.entries())t.append("images",o.file);t.append("testimonialName",this.testimonialForm.controls.name.value),t.append("designationAndLocation",this.testimonialForm.controls.designation.value),t.append("description",this.testimonialForm.controls.comments.value),t.append("index",this.testimonialForm.controls.comments.value),this.callSaveToApi(t).then(n=>{})}else this.toastr.info("Please fill all the required fields")}callSaveToApi(t){const n={headers:new C.WM({"Content-Type":"undefined"})};return new Promise((o,r)=>{if(t){let l="";this.communicationService.post(_.P.uploadTestimonialData(),t,n,!0).subscribe({next:s=>{l=s.message,o(s)},error:s=>{this.toastr.error(s.error.message),r(s)},complete:()=>{this.dialogRef.close({status:!0,type:"add",message:l}),this.apiService.adminDataChange$.next(!0)}})}else o([])})}numberValidator(t){return isNaN(Number(t.value))?{notANumber:!0}:null}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.so),e.Y36(d.WI),e.Y36(c.qu),e.Y36(b.H7),e.Y36(h._W),e.Y36(x.O),e.Y36(A.C),e.Y36(f.s))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-create-testimonial"]],viewQuery:function(t,n){if(1&t&&e.Gf(Be,5),2&t){let o;e.iGM(o=e.CRH())&&(n.fileInput=o.first)}},decls:57,vars:7,consts:[[1,"closed__wrapper"],[1,""],[1,"chat__element"],[1,"heading"],[3,"formGroup"],["appearance","outline"],["matInput","","placeholder","Name","formControlName","name"],[4,"ngIf"],["matInput","","placeholder","Designation","formControlName","designation"],["matInput","","placeholder","Comments","formControlName","comments"],["matInput","","placeholder","Enter the sequence","formControlName","index"],[1,"upload"],[1,"flbx-stretch","align-items-start"],[1,"item-wrapper","one"],[1,"item"],[1,"item-inner"],[1,"item-content"],["appDrag","",1,"image-upload",3,"drop"],["for","file_upload",2,"cursor","pointer"],[1,"h-100"],[1,"dplay-tbl"],[1,"dplay-tbl-cell"],["src","assets/images/upload-icon.svg","alt","upload"],[1,"m-0","text-start"],["type","file","id","file_upload","multiple","","data-traget-resolution","image_resolution","value","","accept",".jpg,.jpeg,.bmp,.png,.svg,.gif,.jfif,.pjpeg,pjp",1,"image-input",3,"change"],["fileInput",""],["class","choose-img mt-3 d-flex",4,"ngIf"],[1,"notification__container"],[1,"btn","btn-red",3,"click"],["mat-dialog-close","",1,"btn","btn-grey"],[4,"ngIf","ngIfElse"],["requiredError",""],[1,"choose-img","mt-3","d-flex"],["class","answers","formArrayName","image",4,"ngFor","ngForOf"],["formArrayName","image",1,"answers"],[1,"flbx-vac",3,"formGroupName"],[1,"answer"],[1,"preview_img",3,"src"],[1,"close"],["src","assets/images/close.svg",3,"click"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),e._uU(4,"Add Testimonial"),e.qZA(),e.TgZ(5,"form",4)(6,"mat-form-field",5)(7,"mat-label"),e._uU(8,"Name"),e.qZA(),e._UZ(9,"input",6),e.qZA(),e.YNc(10,We,4,2,"mat-error",7),e.TgZ(11,"mat-form-field",5)(12,"mat-label"),e._uU(13,"Designation"),e.qZA(),e._UZ(14,"input",8),e.qZA(),e.YNc(15,tt,4,2,"mat-error",7),e.TgZ(16,"mat-form-field",5)(17,"mat-label"),e._uU(18,"Description"),e.qZA(),e.TgZ(19,"textarea",9),e._uU(20,"          "),e.qZA()(),e.YNc(21,rt,4,2,"mat-error",7),e.TgZ(22,"mat-form-field",5)(23,"mat-label"),e._uU(24,"Sequence to be displayed"),e.qZA(),e._UZ(25,"input",10),e.YNc(26,st,3,2,"mat-error",7),e.qZA(),e.TgZ(27,"div",11)(28,"div",12)(29,"h3"),e._uU(30,"Upload Picture"),e.qZA()(),e.TgZ(31,"div",13)(32,"div",14)(33,"div",15)(34,"div",16)(35,"div",17),e.NdJ("drop",function(r){return n.filesDropped(r)}),e.TgZ(36,"label",18)(37,"div",19)(38,"div",20)(39,"div",21),e._UZ(40,"img",22),e.TgZ(41,"div")(42,"h3",23),e._uU(43," Drag and drop file here "),e.qZA(),e.TgZ(44,"p",23),e._uU(45,"Or"),e.qZA(),e.TgZ(46,"h2",23),e._uU(47,"Browse file"),e.qZA()()()()(),e.TgZ(48,"input",24,25),e.NdJ("change",function(r){return n.onFileSelection(r)}),e.qZA(),e.YNc(50,ct,2,0,"mat-error",7),e.qZA()()()()()(),e.YNc(51,dt,2,1,"div",26),e.qZA()()()(),e.TgZ(52,"div",27)(53,"button",28),e.NdJ("click",function(){return n.onSave()}),e._uU(54,"Save"),e.qZA(),e.TgZ(55,"button",29),e._uU(56,"Cancel"),e.qZA()()()),2&t){let o,r,l,s,m;e.xp6(5),e.Q6J("formGroup",n.testimonialForm),e.xp6(5),e.Q6J("ngIf",(null==(o=n.testimonialForm.get("name"))?null:o.invalid)&&((null==(o=n.testimonialForm.get("name"))?null:o.dirty)||(null==(o=n.testimonialForm.get("name"))?null:o.touched))),e.xp6(5),e.Q6J("ngIf",(null==(r=n.testimonialForm.get("designation"))?null:r.invalid)&&((null==(r=n.testimonialForm.get("designation"))?null:r.dirty)||(null==(r=n.testimonialForm.get("designation"))?null:r.touched))),e.xp6(6),e.Q6J("ngIf",(null==(l=n.testimonialForm.get("comments"))?null:l.invalid)&&((null==(l=n.testimonialForm.get("comments"))?null:l.dirty)||(null==(l=n.testimonialForm.get("comments"))?null:l.touched))),e.xp6(5),e.Q6J("ngIf",(null==(s=n.testimonialForm.get("index"))?null:s.invalid)&&(null==(s=n.testimonialForm.get("index"))?null:s.touched)),e.xp6(24),e.Q6J("ngIf",null==(m=n.testimonialForm.get("image"))||null==m.errors?null:m.errors.required),e.xp6(1),e.Q6J("ngIf",n.photosOrVideos.value.length)}},directives:[c._Y,c.JL,c.sg,g.KE,g.hX,T.Nt,c.Fj,c.JJ,c.u,u.O5,g.TO,w.w,u.sg,c.CE,c.x0,d.ZT],styles:[".close[_ngcontent-%COMP%]{position:absolute;top:0;right:0}.answer[_ngcontent-%COMP%]{position:relative;width:100%}.answer[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{max-width:100%;border-radius:5px;width:100%;object-fit:cover;height:100px}.preview_img[_ngcontent-%COMP%]{height:100px;object-fit:cover}.answers[_ngcontent-%COMP%]{width:18%;margin-right:10px}@media screen and (max-width: 767px){.answers[_ngcontent-%COMP%]{width:100%!important}}.answers[_ngcontent-%COMP%]   .flbx-vac[_ngcontent-%COMP%]{width:100%}.upload[_ngcontent-%COMP%]{padding:20px 0}form.ng-pristine[_ngcontent-%COMP%]{height:300px;overflow-y:scroll}"]}),i})();function pt(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7),e._UZ(4,"img",8),e.qZA(),e.TgZ(5,"h2"),e._uU(6),e.TgZ(7,"span"),e._uU(8),e.qZA()()(),e.TgZ(9,"div",9)(10,"h2"),e._uU(11),e.qZA()(),e.TgZ(12,"div",10)(13,"a",11),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().deleteTestimonialData(null==r?null:r.imageName)}),e.qZA()()(),e.TgZ(14,"div",12)(15,"p"),e._uU(16),e.qZA()()()}if(2&i){const t=a.$implicit;e.xp6(4),e.Q6J("src",null==t?null:t.testimonialPictureLocation,e.LSH),e.xp6(2),e.hij(" ",t.testimonialName," "),e.xp6(2),e.Oqu(null==t?null:t.designationAndLocation),e.xp6(3),e.Oqu(null==t?null:t.index),e.xp6(5),e.hij(" ",null==t?null:t.description," ")}}let gt=(()=>{class i{constructor(t,n,o){this.dialog=t,this.apiService=n,this.toastr=o}ngOnInit(){this.apiService.adminSideNavChanged$.subscribe(t=>{(null==t?void 0:t.status)&&"voice-of-change"==(null==t?void 0:t.type)&&(this.testimonialData=t.voiceOfChange)})}createTestimonial(){this.dialog.open(ut,{width:"670px",data:{}}).afterClosed().subscribe(n=>{(null==n?void 0:n.status)&&this.toastr.success(null==n?void 0:n.message)})}removeDataFromApi(t){this.dialog.open(Z.p,{width:"470px",data:{heading:"Delete Testimonial?",message:"Are you sure you want to delete the Testimonial?"}}).afterClosed().subscribe(o=>{if(o){const r=`${_.P.deleteTestimonialData()}?imageName=${t.toString()}`;this.apiService.delete({},r).subscribe(()=>{this.apiService.adminDataChange$.next(!0),this.toastr.success("Testimonial deleted Successfully")})}})}deleteTestimonialData(t){this.removeDataFromApi(t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.uw),e.Y36(f.s),e.Y36(h._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-testimonials"]],inputs:{testimonialData:"testimonialData"},decls:7,vars:1,consts:[[1,"header-Landing_config"],[1,"btn-create",3,"click"],[1,"content-wrap_cms"],["class","cms_content_box",4,"ngFor","ngForOf"],[1,"cms_content_box"],[1,"first_sec"],[1,"title_sec"],[1,"img-box"],[3,"src"],[1,"btn_sec",2,"margin-left","auto"],[1,"btn_sec"],[1,"delete",3,"click"],[1,"second_sec"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"Manage Testimonials"),e.qZA(),e.TgZ(3,"a",1),e.NdJ("click",function(){return n.createTestimonial()}),e._uU(4,"+ Create"),e.qZA()(),e.TgZ(5,"div",2),e.YNc(6,pt,17,5,"div",3),e.qZA()),2&t&&(e.xp6(6),e.Q6J("ngForOf",n.testimonialData))},directives:[u.sg],styles:[""]}),i})();const _t=["fileInput"];function ft(i,a){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," Please select any image file of format .jpg, .jpeg, .bmp, .png, .svg, .gif, .jfif, .pjpeg, pjp "),e.qZA())}function ht(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1," Please enter a valid number for the sequence. "),e.qZA())}function vt(i,a){1&i&&(e.TgZ(0,"div"),e._uU(1," Sequence required "),e.qZA())}function Ct(i,a){if(1&i&&(e.TgZ(0,"mat-error"),e.YNc(1,ht,2,0,"div",20),e.YNc(2,vt,2,0,"div",20),e.qZA()),2&i){const t=e.oxw();let n,o;e.xp6(1),e.Q6J("ngIf",null==(n=t.bannerPictureForm.get("index"))?null:n.hasError("notANumber")),e.xp6(1),e.Q6J("ngIf",null==(o=t.bannerPictureForm.get("index"))?null:o.hasError("required"))}}function xt(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",29)(1,"div",30)(2,"label",31),e._UZ(3,"img",32),e.TgZ(4,"div",33)(5,"img",34),e.NdJ("click",function(){const r=e.CHM(t).index;return e.oxw(2).clearImage(r)}),e.qZA()()()()()}if(2&i){const t=a.$implicit,n=a.index;let o;e.xp6(1),e.Q6J("formGroupName",n),e.xp6(2),e.Q6J("src",null==(o=t.get("url"))?null:o.value,e.LSH)}}function Tt(i,a){if(1&i&&(e.TgZ(0,"div",27),e.YNc(1,xt,6,2,"div",28),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",null==t.photos?null:t.photos.controls)}}let Zt=(()=>{class i{constructor(t,n,o,r,l,s,m){this.dialogRef=t,this.data=n,this.fb=o,this.sanitizer=r,this.toastr=l,this.communicationService=s,this.apiService=m,this.limit=5,this.allowedFileExtensions=["jpg","svg","jpeg","png","gif","jfif","pjpeg","pjp"]}ngOnInit(){this.bannerPictureForm=this.initializeFromGroup()}initializeFromGroup(){return this.fb.group({image:this.fb.array([],[c.kI.required]),index:["",[c.kI.required,this.numberValidator]]})}get photos(){return this.bannerPictureForm.controls.image}createItem(t){return this.fb.group({file:[t.file],url:[t.url]})}onFileSelection(t){const n=t.target.files;if(n.length>0){for(var o=0;o<n.length;o++){const r=n[o];if(this.fileInputValidation(r)){const l=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(r));this.photos.push(this.createItem({file:r,url:l}))}n.length-1==o&&(this.fileInput.nativeElement.value="")}return!0}return!1}fileInputValidation(t){try{return this.photos.value.length>this.limit-1?(this.toastr.info("Max allowed files is 5"),this.fileInput.nativeElement.value="",!1):this.photos.value.find(o=>o.file.name?-1!==o.file.name.indexOf(t.name):-1!==o.file.imageName.indexOf(t.name))?(this.toastr.info("Duplicate file name"),this.fileInput.nativeElement.value="",!1):t.size>5242880?(this.toastr.info("Maximum allowed file size is 5mb"),!1):this.validateImageOrVideoExtensions(t)}catch(o){}return!0}validateImageOrVideoExtensions(t){try{var o=t.name;if(!(o.length>0))return!1;for(var r=!1,l=0;l<this.allowedFileExtensions.length;l++){var s=this.allowedFileExtensions[l];if(o.substr(o.lastIndexOf(".")+1).toLowerCase()==s.toLowerCase()){r=!0;break}}if(!r)return this.toastr.warning("Sorry, "+o+" is invalid, allowed extensions are: "+this.allowedFileExtensions.join(", ")),!1}catch(m){}return!0}clearImage(t){try{this.photos.removeAt(t)}catch(n){}}filesDropped(t){try{if(this.fileInputValidation(t.dataTransfer.files))for(let n=0;n<t.dataTransfer.files.length;n++){const o=t.dataTransfer.files[n],r=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(o));this.photos.push(this.createItem({file:o,url:r}))}}catch(n){}}onSave(){if(this.bannerPictureForm.valid){console.log(this.bannerPictureForm.value),console.log(this.photos.value.entries);const t=new FormData;for(const[n,o]of this.photos.value.entries())t.append("images",o.file);t.append("index",this.bannerPictureForm.controls.index.value),this.callSaveToApi(t).then(n=>{})}else this.toastr.info("Please fill all the required fields")}callSaveToApi(t){const n={headers:new C.WM({"Content-Type":"undefined"})};return new Promise((o,r)=>{if(t){let l="";this.communicationService.post(_.P.uploadLogoPartner(),t,n,!0).subscribe({next:s=>{l=s.message,o(s)},error:s=>{this.toastr.error(s.error.message),r(s)},complete:()=>{this.dialogRef.close({status:!0,type:"add",message:l}),this.apiService.adminDataChange$.next(!0)}})}else o([])})}numberValidator(t){return isNaN(Number(t.value))?{notANumber:!0}:null}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.so),e.Y36(d.WI),e.Y36(c.qu),e.Y36(b.H7),e.Y36(h._W),e.Y36(x.O),e.Y36(f.s))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-partners-logo-create"]],viewQuery:function(t,n){if(1&t&&e.Gf(_t,5),2&t){let o;e.iGM(o=e.CRH())&&(n.fileInput=o.first)}},decls:41,vars:4,consts:[[1,"closed__wrapper"],[1,""],[1,"chat__element"],[1,"heading"],[3,"formGroup"],[1,"upload"],[1,"flbx-stretch","align-items-start"],[1,"item-wrapper","one"],[1,"item"],[1,"item-inner"],[1,"item-content"],["appDrag","",1,"image-upload",3,"drop"],["for","file_upload",2,"cursor","pointer"],[1,"h-100"],[1,"dplay-tbl"],[1,"dplay-tbl-cell"],["src","assets/images/upload-icon.svg","alt","upload"],[1,"m-0","text-start"],["type","file","id","file_upload","multiple","","data-traget-resolution","image_resolution","value","","accept",".jpg,.jpeg,.bmp,.png,.svg,.gif,.jfif,.pjpeg,pjp",1,"image-input",3,"change"],["fileInput",""],[4,"ngIf"],["appearance","outline"],["matInput","","placeholder","Enter the sequence","formControlName","index"],["class","choose-img mt-3 d-flex",4,"ngIf"],[1,"notification__container"],[1,"btn","btn-red",3,"click"],["mat-dialog-close","",1,"btn","btn-grey"],[1,"choose-img","mt-3","d-flex"],["class","answers","formArrayName","image",4,"ngFor","ngForOf"],["formArrayName","image",1,"answers"],[1,"flbx-vac",3,"formGroupName"],[1,"answer"],[1,"preview_img",3,"src"],[1,"close"],["src","assets/images/close.svg",3,"click"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),e._uU(4,"Add Partner's Logo"),e.qZA(),e.TgZ(5,"form",4)(6,"div",5)(7,"div",6)(8,"h3"),e._uU(9,"Upload Picture"),e.qZA()(),e.TgZ(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11),e.NdJ("drop",function(r){return n.filesDropped(r)}),e.TgZ(15,"label",12)(16,"div",13)(17,"div",14)(18,"div",15),e._UZ(19,"img",16),e.TgZ(20,"div")(21,"h3",17),e._uU(22," Drag and drop file here "),e.qZA(),e.TgZ(23,"p",17),e._uU(24,"Or"),e.qZA(),e.TgZ(25,"h2",17),e._uU(26,"Browse file"),e.qZA()()()()(),e.TgZ(27,"input",18,19),e.NdJ("change",function(r){return n.onFileSelection(r)}),e.qZA(),e.YNc(29,ft,2,0,"mat-error",20),e.qZA()()()()()(),e.TgZ(30,"mat-form-field",21)(31,"mat-label"),e._uU(32,"Sequence to be displayed"),e.qZA(),e._UZ(33,"input",22),e.YNc(34,Ct,3,2,"mat-error",20),e.qZA(),e.YNc(35,Tt,2,1,"div",23),e.qZA()()()(),e.TgZ(36,"div",24)(37,"button",25),e.NdJ("click",function(){return n.onSave()}),e._uU(38,"Save"),e.qZA(),e.TgZ(39,"button",26),e._uU(40,"Cancel"),e.qZA()()()),2&t){let o,r;e.xp6(5),e.Q6J("formGroup",n.bannerPictureForm),e.xp6(24),e.Q6J("ngIf",null==(o=n.bannerPictureForm.get("image"))||null==o.errors?null:o.errors.required),e.xp6(5),e.Q6J("ngIf",(null==(r=n.bannerPictureForm.get("index"))?null:r.invalid)&&(null==(r=n.bannerPictureForm.get("index"))?null:r.touched)),e.xp6(1),e.Q6J("ngIf",n.photos.value.length)}},directives:[c._Y,c.JL,c.sg,w.w,u.O5,g.TO,g.KE,g.hX,T.Nt,c.Fj,c.JJ,c.u,u.sg,c.CE,c.x0,d.ZT],styles:[".close[_ngcontent-%COMP%]{position:absolute;top:0;right:0}.answer[_ngcontent-%COMP%]{position:relative;width:100%}.answer[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{max-width:100%;border-radius:5px;width:100%;object-fit:cover;height:100px}.preview_img[_ngcontent-%COMP%]{height:100px;object-fit:cover}.answers[_ngcontent-%COMP%]{width:18%;margin-right:10px}@media screen and (max-width: 767px){.answers[_ngcontent-%COMP%]{width:100%!important}}.answers[_ngcontent-%COMP%]   .flbx-vac[_ngcontent-%COMP%]{width:100%}.upload[_ngcontent-%COMP%]{padding:20px 0}form.ng-pristine[_ngcontent-%COMP%]{height:300px;overflow-y:scroll}"]}),i})();function bt(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7),e._UZ(4,"img",8),e.qZA(),e.TgZ(5,"h2"),e._uU(6),e.qZA()(),e.TgZ(7,"div",9)(8,"h2"),e._uU(9),e.qZA()(),e.TgZ(10,"div",10)(11,"a",11),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().deletePartnersLogo(null==r?null:r.imageName)}),e.qZA()()()()}if(2&i){const t=a.$implicit;e.xp6(4),e.Q6J("src",null==t?null:t.partnersLogoLocation,e.LSH),e.xp6(2),e.Oqu(null==t?null:t.imageName),e.xp6(3),e.Oqu(null==t?null:t.index)}}let wt=(()=>{class i{constructor(t,n,o){this.dialog=t,this.apiService=n,this.toastr=o}ngOnInit(){this.apiService.adminSideNavChanged$.subscribe(t=>{(null==t?void 0:t.status)&&"partners-logos"==(null==t?void 0:t.type)&&(this.partnersData=t.partnersLogoLocation)})}createPartnersLogo(){this.dialog.open(Zt,{width:"670px",data:{}}).afterClosed().subscribe(n=>{(null==n?void 0:n.status)&&this.toastr.success(null==n?void 0:n.message)})}removeDataFromApi(t){this.dialog.open(Z.p,{width:"470px",data:{heading:"Delete Partners Logo?",message:"Are you sure you want to delete the Partners Logo?"}}).afterClosed().subscribe(o=>{if(o){const r=`${_.P.deletePartnersLogo()}?imageName=${t.toString()}`;this.apiService.delete({},r).subscribe(()=>{this.apiService.adminDataChange$.next(!0),this.toastr.success("Partner logo deleted Successfully")})}})}deletePartnersLogo(t){this.removeDataFromApi(t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.uw),e.Y36(f.s),e.Y36(h._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-partner-logos"]],inputs:{partnersData:"partnersData"},decls:7,vars:1,consts:[[1,"header-Landing_config"],[1,"btn-create",3,"click"],[1,"content-wrap_cms"],["class","cms_content_box",4,"ngFor","ngForOf"],[1,"cms_content_box"],[1,"first_sec"],[1,"title_sec"],[1,"img-box"],[3,"src"],[1,"btn_sec",2,"margin-left","auto"],[1,"btn_sec"],[1,"delete",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"Manage Partners Logo"),e.qZA(),e.TgZ(3,"a",1),e.NdJ("click",function(){return n.createPartnersLogo()}),e._uU(4,"+ Create"),e.qZA()(),e.TgZ(5,"div",2),e.YNc(6,bt,12,3,"div",3),e.qZA()),2&t&&(e.xp6(6),e.Q6J("ngForOf",n.partnersData))},directives:[u.sg],styles:["form.ng-pristine[_ngcontent-%COMP%]{height:300px;overflow-y:scroll}"]}),i})();function At(i,a){1&i&&e._UZ(0,"div")}function Ot(i,a){if(1&i&&(e.ynx(0),e._UZ(1,"app-banner",11),e.BQk()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("bannerData",t.bannerImages)}}function qt(i,a){if(1&i&&(e.ynx(0),e._UZ(1,"app-leaders-talk",12),e.BQk()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("leadersData",t.leadersData)}}function yt(i,a){if(1&i&&(e.ynx(0),e._UZ(1,"app-youtube-videos",13),e.BQk()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ytData",t.video)}}function Nt(i,a){if(1&i&&(e.ynx(0),e._UZ(1,"app-activity",14),e.BQk()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("locationActivity",t.nameIdData)}}function Ft(i,a){if(1&i&&(e.ynx(0),e._UZ(1,"app-voice-of-change",15),e.BQk()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("vocData",t.voiceOfChange)}}function It(i,a){if(1&i&&(e.ynx(0),e._UZ(1,"app-testimonials",16),e.BQk()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("testimonialData",t.testimonialData)}}function Ut(i,a){if(1&i&&(e.ynx(0),e._UZ(1,"app-partner-logos",17),e.BQk()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("partnersData",t.partnersLogoLocation)}}function Pt(i,a){1&i&&(e.ynx(0),e._UZ(1,"app-banner"),e.BQk())}function St(i,a){1&i&&(e.YNc(0,Ot,2,1,"ng-container",9),e.YNc(1,qt,2,1,"ng-container",9),e.YNc(2,yt,2,1,"ng-container",9),e.YNc(3,Nt,2,1,"ng-container",9),e.YNc(4,Ft,2,1,"ng-container",9),e.YNc(5,It,2,1,"ng-container",9),e.YNc(6,Ut,2,1,"ng-container",9),e.YNc(7,Pt,2,0,"ng-container",10)),2&i&&(e.Q6J("ngSwitchCase","bannersImage"),e.xp6(1),e.Q6J("ngSwitchCase","leaders-talks"),e.xp6(1),e.Q6J("ngSwitchCase","youtube-video"),e.xp6(1),e.Q6J("ngSwitchCase","activity-config"),e.xp6(1),e.Q6J("ngSwitchCase","voice-of-change"),e.xp6(1),e.Q6J("ngSwitchCase","testimonials"),e.xp6(1),e.Q6J("ngSwitchCase","partners-logos"))}const Yt=[{path:"",component:y},{path:"banner-list",data:{roles:[N.G.CADMIN,N.G.ADMIN]},component:(()=>{class i{constructor(t,n){this.apiService=t,this.appLoaderService=n,this.currentRoute="",this.isMenuCollapse=!1,this.isLoading=!0,this.apiService.viewBreadCrumb$.next({status:!0,label:"",activityName:""}),this.setRoute("bannersImage"),this.appLoaderService.loaderVisibility$.subscribe(r=>{this.isLoading=r})}ngOnInit(){this.getData(),this.getActivityData(),this.apiService.adminDataChange$.subscribe(t=>{t&&(this.getData(),this.getActivityData())})}getData(){const t=`${_.P.getLandingPageDetailsUrl()}`;this.apiService.get(t).subscribe(n=>{this.bannerImages=n.data.banner,this.partnersLogoLocation=n.data.partners,this.testimonialData=n.data.testimonial,this.leadersData=n.data.leadersTalk,this.voiceOfChange=n.data.voiceOfChange;for(let o of n.data.video){const r=this.extractVideoId(o.videoURL);o.videoImage=`https://img.youtube.com/vi/${r}/hqdefault.jpg`}this.video=n.data.video,this.apiService.adminSideNavChanged$.next({status:!0,type:this.currentRoute,bannerImages:this.bannerImages,partnersLogoLocation:this.partnersLogoLocation,testimonialData:this.testimonialData,leadersData:this.leadersData,voiceOfChange:this.voiceOfChange,video:this.video})})}getActivityData(){const t=`${_.P.getLocationActNameId()}`;this.apiService.get(t).subscribe(n=>{this.nameIdData=n.data})}extractVideoId(t){const o=t.match(/\/embed\/([^?]+)/);return o?o[1]:""}setRoute(t){this.currentRoute=t,this.getData()}onMenuClick(){this.isMenuCollapse=!this.isMenuCollapse}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(f.s),e.Y36(le.P))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-side-nav"]],decls:32,vars:11,consts:[[1,"container-fluid","landingpage_cms",3,"ngClass"],[1,"cms_menu_btn",3,"click"],[1,"material-symbols-outlined"],[1,"row"],[1,"sidemenu_card"],[3,"ngClass","click"],[1,"content-wrapper",3,"ngSwitch"],[4,"ngIf","ngIfElse"],["content",""],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"bannerData"],[3,"leadersData"],[3,"ytData"],[3,"locationActivity"],[3,"vocData"],[3,"testimonialData"],[3,"partnersData"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"a",1),e.NdJ("click",function(){return n.onMenuClick()}),e.TgZ(2,"span",2),e._uU(3,"menu"),e.qZA()(),e.TgZ(4,"div",3)(5,"div",4)(6,"ul")(7,"li")(8,"a",5),e.NdJ("click",function(){return n.setRoute("bannersImage")}),e._uU(9,"Banners"),e.qZA()(),e.TgZ(10,"li")(11,"a",5),e.NdJ("click",function(){return n.setRoute("leaders-talks")}),e._uU(12,"Leaders Talks"),e.qZA()(),e.TgZ(13,"li")(14,"a",5),e.NdJ("click",function(){return n.setRoute("youtube-video")}),e._uU(15,"Youtube Video "),e.qZA()(),e.TgZ(16,"li")(17,"a",5),e.NdJ("click",function(){return n.setRoute("voice-of-change")}),e._uU(18,"Voice of Change"),e.qZA()(),e.TgZ(19,"li")(20,"a",5),e.NdJ("click",function(){return n.setRoute("activity-config")}),e._uU(21,"Activity"),e.qZA()(),e.TgZ(22,"li")(23,"a",5),e.NdJ("click",function(){return n.setRoute("testimonials")}),e._uU(24,"Testimonials"),e.qZA()(),e.TgZ(25,"li")(26,"a",5),e.NdJ("click",function(){return n.setRoute("partners-logos")}),e._uU(27,"Partners Logos"),e.qZA()()()(),e.TgZ(28,"div",6),e.YNc(29,At,1,0,"div",7),e.YNc(30,St,8,7,"ng-template",null,8,e.W1O),e.qZA()()()),2&t){const o=e.MAs(31);e.Q6J("ngClass",n.isMenuCollapse?"menu-deactive":" "),e.xp6(8),e.Q6J("ngClass","bannersImage"===n.currentRoute?"active":""),e.xp6(3),e.Q6J("ngClass","leaders-talks"===n.currentRoute?"active":""),e.xp6(3),e.Q6J("ngClass","youtube-video"===n.currentRoute?"active":""),e.xp6(3),e.Q6J("ngClass","voice-of-change"===n.currentRoute?"active":""),e.xp6(3),e.Q6J("ngClass","activity-config"===n.currentRoute?"active":""),e.xp6(3),e.Q6J("ngClass","testimonials"===n.currentRoute?"active":""),e.xp6(3),e.Q6J("ngClass","partners-logos"===n.currentRoute?"active":""),e.xp6(2),e.Q6J("ngSwitch",n.currentRoute),e.xp6(1),e.Q6J("ngIf",n.isLoading)("ngIfElse",o)}},directives:[u.mk,u.RF,u.O5,u.n9,y,F,Te,we,$e,gt,wt,u.ED],styles:[".landingpage_cms[_ngcontent-%COMP%]{background:#E4E4E4;min-height:calc(100vh - 210px);position:relative}.sidemenu_card[_ngcontent-%COMP%]{width:230px;background:#fff;height:100%;position:absolute;top:0;left:0;padding:0;transition:.3s all}.sidemenu_card[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;margin:0}.sidemenu_card[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none}.sidemenu_card[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#a5a5a5;font-family:Poppins;font-size:16px;font-style:normal;font-weight:400;line-height:normal;display:block;border-bottom:1px solid #D7D7D7;background:#FFF;padding:13px 0 13px 10px;cursor:pointer;transition:.3s all}.sidemenu_card[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .sidemenu_card[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{transition:.3s all;border-bottom:1px solid #5D417D;background:#5D417D;color:#fff!important}.content-wrapper[_ngcontent-%COMP%]{padding-left:245px}.landingpage_cms.menu-deactive[_ngcontent-%COMP%]   .sidemenu_card[_ngcontent-%COMP%]{transition:.3s all;margin-left:-100%}.landingpage_cms.menu-deactive[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{padding-left:15px}form.ng-pristine[_ngcontent-%COMP%]{height:300px;overflow-y:scroll}"]}),i})()},{path:"leaders-talk",component:F}];let Jt=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[q.Bz.forChild(Yt)],q.Bz]}),i})();var kt=p(7777);let Mt=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[u.ez,Jt,kt.m]]}),i})()}}]);